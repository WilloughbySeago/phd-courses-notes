% !TeX program = lualatex
\documentclass[fleqn]{NotesClass}

\strictpagecheck

\usepackage{csquotes}
\usepackage{tensor}

\usepackage{tikz}
\usetikzlibrary{external}
\tikzexternalize[prefix=tikz-external/]

\usepackage{tikz-cd}

\usepackage{simpler-wick}

\usepackage[pdfauthor={Willoughby Seago},pdftitle={Notes from Conformal Field Theory and Vertex Operator Algebras},pdfkeywords={conformal field theory,CFT,vertex operator algebra,voa},pdfsubject={Conformal Field Theory and Vertex Operator Algebras}]{hyperref}  % Should be loaded second last (cleveref last)
\colorlet{hyperrefcolor}{blue!60!black}
\hypersetup{colorlinks=true, linkcolor=hyperrefcolor, urlcolor=hyperrefcolor}
\usepackage[
capitalize,
nameinlink,
noabbrev
]{cleveref} % Should be loaded last

% My packages
\usepackage{NotesBoxes}
\usepackage{NotesMaths2}

\setmathfont[range={\int, \oint, \otimes, \oplus, \bigotimes, \bigoplus}]{Latin Modern Math}
\setmathfont{STIX Two Math}[range={scr,bfscr},StylisticSet=01]


% Highlight colour
\definecolor{highlight}{HTML}{710D78}
\definecolor{my blue}{HTML}{2A0D77}
\definecolor{my red}{HTML}{770D38}
\definecolor{my green}{HTML}{14770D}
\definecolor{my yellow}{HTML}{E7BB41}

% Title page info
\title{Conformal Field Theory and Vertex Operator Algebras}
\author{Willoughby Seago}
\date{October 8th, 2024}
\subtitle{Notes from}
\subsubtitle{SMSTC}
\renewcommand{\abstracttext}{These are my notes from the SMSTC course \emph{Conformal Field Theories and Vertex Operator Algebras} taught by Dr Anatoly Konechny. These notes were last updated at \printtime{} on \today{}.}

% Commands
% Maths
\newcommand{\manifold}{\symcal{M}}
\renewcommand{\dd}[1]{\,\symrm{d}#1}
\renewcommand{\dl}[1]{\symrm{d}#1}
\DeclarePairedDelimiterX{\innerproduct}[2]{(}{)}{#1, #2}
\newcommand{\pt}{\symrm{pt}}
\newcommand{\isomorphic}{\cong}
\DeclareMathOperator{\Aff}{Aff}
\newcommand{\inversion}{\symcal{I}}
\newcommand{\id}{\symrm{id}}
\DeclareMathOperator{\projectiveSpecialLinear}{PSL}
\newcommand{\identityMatrix}{\symbb{1}}
\newcommand{\lieDerivative}{\symcal{L}}
\DeclarePairedDelimiterX{\bracket}[2]{[}{]}{#1, #2}
\newcommand{\Witt}{\symrm{Witt}}
\newcommand{\quantumField}[1]{\symcal{#1}}
\newcommand{\DL}{\symcal{D}}
\newcommand{\DD}{\,\symcal{D}}
\DeclarePairedDelimiter{\correlator}{\langle}{\rangle}
\difdef{f, s}{gd}{op-symbol=\delta}
\NewDocumentCommand{\diffd}{m m}{\diff.gd.{#1}{#2}}
\NewDocumentCommand{\difsd}{m m}{\difs.gd.{#1}{#2}}
\newcommand{\lagrangian}{\symcal{L}}
\newcommand{\freeboson}{\symrm{fb}}
\newcommand{\dalembertian}{\partial^2}
\newcommand{\order}{\symscr{O}}
\newcommand{\identity}{\symbb{1}}

\begin{document}
    \frontmatter
    \titlepage
    \innertitlepage{}
    \tableofcontents
    % \listoffigures
    \mainmatter
    \chapter{Conformal Geometry}
    \section{Local Conformal Maps}
    Intuitively, we want conformal maps to preserve angles, but not necessarily distances.
    To do so consider how the angle between two vectors in, say, \(\reals^3\) is computed,
    \begin{equation}
        \cos(\theta_{\vv{u}, \vv{v}}) = \frac{\vv{u} \cdot \vv{v}}{\norm{\vv{u}} \norm{\vv{v}}} .
    \end{equation}
    We see here that if each vector were made longer by some positive constant, \(\rho\), then we have
    \begin{equation}
        \cos(\theta_{\rho \vv{u}, \rho \vv{v}})\frac{\rho \vv{u} \cdot \rho \vv{v}}{\norm{\rho \vv{u}} \norm{\rho \vv{v}}} = \cos(\theta_{\vv{u}, \vv{v}}).
    \end{equation}
    We can think of scaling all of the vectors here by \(\rho\) as the same as scaling the metric by \(1/\rho\).
    It's \(1/\rho\) because if we make the units of a measurement smaller then the number we measure gets bigger (hence, \emph{contravariant} vectors).
    
    The following is really just fancy differential-geometry-speak for this rescaling of the metric, and we also allow the scaling of the metric to depend on position.
    
    \begin{dfn}{Local Conformal Map}{}
        Let \((\manifold_1, g_1)\) and \((\manifold_2, g_2)\) be \(n\)-dimensional Riemannian manifolds.
        Let \(U_1 \subseteq \manifold_1\) and \(U_2 \subseteq \manifold_2\) be open subsets.
        A (local) \defineindex{conformal transformation} is a smooth, injective map, \(\varphi \colon U_1 \to U_2\), satisfying the pullback condition
        \begin{equation}
            \varphi^*g_2 = \Lambda g_1
        \end{equation}
        for some function \(\Lambda \colon U_1 \to \reals_{>0}\).
        
        A conformal map defined on all of \(\manifold_1\) is a global conformal map.
    \end{dfn}
    
    \begin{remark}{}{}
        It is possible to relax the conditions on \(\varphi\), and require only that it is differentiable.
        However, requiring smoothness and injectivity is common when it comes to applications, so we make it a basic requirement.
        It's also common to further restrict to orientation-preserving maps, but we won't do that just yet.
    \end{remark}
    
    We can express the pullback condition, \(\varphi^*g_2 = \Lambda g_1\), in local coordinates.
    Let \(x = (x^1, \dotsc, x^n)\) be coordinates covering \(U_1\), and \(y = (y^1, \dotsc, y^n)\) coordinates covering \(U_2\).
    Then \(\varphi\) is fully specified by the functions \(\varphi^i\) which are defined such that \(y^i = \varphi^i(x)\).
    The metrics, \(g_i\), may be specified by their components, \((g_i)_{jk} \colon U_i \to \reals\).
    In these coordinates the pullback condition becomes
    \begin{equation}
        \sum_{k,l} \diffp{\varphi^k}{x^i} \diffp{\varphi^l}{x^j} (g_2)_{kl}(\varphi(x)) = \Lambda(x) (g_1)_{ij}(x).
    \end{equation}
    Taking determinants of either side of this equation we have
    \begin{equation}
        \det\left( \diffp{\varphi^k}{x^i} \right) \det(g_2) \det\left( \diffp{\varphi^l}{x^j} \right) = \Lambda^n \det (g_1).
    \end{equation}
    Now, \(\Lambda^n \ne 0\) and \(\det(g_i) \ne 0\), so it follows that \(\det(\difsp{\varphi^k}{x^i}) \ne 0\), meaning that the matrix with components \(\difsp{\varphi^k}{x^i}\) is invertible.
    This means that a conformal map is always \defineindex{locally invertible}.
    That is, for any \(p \in U_1\) we have a neighbourhood \(V_1 \subseteq U_1\) with \(p \in V_1\) such that \(\varphi\) restricted to \(V_1\) is a bijection.
    
    Note that it's possible to be locally invertible but not fully invertible.
    There may be a point in \(U_1 \setminus V_1\) which maps to the same point as a point in \(V_1\), so the function will not be injective.
    
    \subsection{Conformal Maps Preserve Angles}
    Consider two vectors \(u, v \in T_p\manifold_1\) and some \(p \in \manifold_1\).
    Taking some open neighbourhood of \(p\), \(U_1 \subseteq \manifold_1\), we can also take coordinates \(x = (x^1, \dotsc, x^n)\) covering \(U_1\).
    This gives a basis \(\{\difsp{}{x^i}|_p\}\) for \(T_p\manifold_1\).
    The angle between these vectors is given, as in \(\reals^3\), by
    \begin{equation}
        \cos(\theta_{u, v}) = \frac{\innerproduct{u}{v}}{\norm{u} \norm{v}} = \frac{u^i (g_1)_{ij} v^j}{\sqrt{u^l(g_1)_{lk}u^k v^p (g_1)_{pq} v^q}}.
    \end{equation}
    Here we've started to employ the Einstein summation convention, and we shall do so from now on.
    Let \(\varphi \colon U_1 \to U_2\) be a conformal transformation and suppose that \(U_2\) is covered by coordinates \(y = (y^1, \dotsc, y^n)\).
    Consider the pushforward
    \begin{equation}
        \dl{\varphi_p} \colon T_p \manifold_1 \to T_{\varphi(p)} \manifold_2.
    \end{equation}
    Under this the vectors \(u\) and \(v\) map to the vectors
    \begin{equation}
        \tilde{u} = \dl{\varphi_p}(u), \qqand \tilde{v} = \dl{\varphi_p}(v),
    \end{equation}
    which have coordinates
    \begin{equation}
        \tilde{u}^i = \diffp{\varphi^i}{x^j} u^j, \qqand \tilde{v}^i = \diffp{\varphi^i}{x^j} v^j.
    \end{equation}
    We can now calculate the angle between these vectors as follows:
    \begin{align}
        \cos(\theta_{\tilde{u}, \tilde{v}}) &= \frac{\innerproduct{\tilde{u}}{\tilde{v}}}{\norm{u} \norm{v}}\\
        &= \frac{\tilde{u}^a (g_2)_{ab} \tilde{v}^b}{\sqrt{\tilde{u}^c(g_2)_{cd} \tilde{u}^d \tilde{v}^e (g_2)_{ef} \tilde{v}^f}}\\
        &= \frac{\diffp{\varphi^a}{x^i} u^i (g_2)_{ab} \diffp{\varphi^b}{x^j} u^j}{\sqrt{\diffp{\varphi^c}{x^l} u^l (g_2)_{cd} \diffp{\varphi^d}{x^k} u^k \diffp{\varphi^e}{x^p} v^p (g_2)_{ef} \diffp{\varphi^f}{x^q}}}\\
        &= \frac{u^i \Lambda(g_1)_{ij} v^j}{\sqrt{u^l \Lambda(g_1)_{lk}u^k v^p \Lambda(g_1)_{pq}v^q}}\\
        &= \frac{u^i (g_1)_{ij} v^j}{\sqrt{u^l (g_1)_{lk}u^k v^p (g_1)_{pq}v^q}}\\
        &= \cos(\theta_{u,v})
    \end{align}
    where we've used the pullback condition
    \begin{equation}
        \diffp{\varphi^a}{x^i} (g_2)_{ab} \diffp{\varphi^b}{x^j} = \Lambda (g_1)_{ij}.
    \end{equation}
    This shows that conformal transformations really do preserve angles as we were looking for.
    
    \section{Conformal Transformations on \(\reals^2\)}
    We now restrict ourselves to the case \(\manifold_1 = \manifold_2 = \reals^2\) with the standard Euclidean metric.
    In Cartesian coordinates, \((x^1, x^2)\), the metric corresponds to the matrix
    \begin{equation}
        \begin{pmatrix}
            1 & 0\\
            0 & 1
        \end{pmatrix}
        .
    \end{equation}
    It turns out that it's useful to identify \(\reals^2\) with \(\complex\) using the complex coordinates
    \begin{equation}
        z = x^1 + ix^2, \qqand \overbar{z} = x^1 - ix^2.
    \end{equation}
    In the coordinates \((z, \overbar{z})\) the metric corresponds to the matrix
    \begin{equation}
        \frac{1}{2}
        \begin{pmatrix}
            0 & 1\\
            1 & 0
        \end{pmatrix}
        .
    \end{equation}
    To see this notice that
    \begin{equation}
        x^1 = \frac{1}{2}(z + \overbar{z}), \qqand x^2 = \frac{1}{2i}(z - \overbar{z}).
    \end{equation}
    Thus, by the chain rule, we have
    \begin{equation}
        \dl{x^1} = \diffp{x^1}{z} \dd{z} + \diffp{x^1}{\overbar{z}} \dd{\overbar{z}}, \qqand \dl{x^2} = \diffp{x^2}{z} \dd{z} + \diffp{x^2}{\overbar{z}}.
    \end{equation}
    Inserting this into the usual Euclidean metric we have
    \begin{align}
        g &= (\dl{x^1})^2 + (\dl{x^2})^2\\
        &= \left( \diffp{x^1}{z}\dd{z} + \diffp{x^1}{\overbar{z}} \dd{\overbar{z}} \right)^2 + \left( \diffp{x^2}{z} \dd{z} + \diffp{x^2}{\overbar{z}} \dd{\overbar{z}} \right)^2\\
        &= \left( \frac{1}{2} \dl{z} + \frac{1}{2}\dl{\overbar{z}} \right)^2 + \left( \frac{1}{2i} \dl{z} - \frac{1}{2i} \dl{\overbar{z}} \right)^2\\
        &= \dl{z} \dd{\overbar{z}}.
    \end{align}
    Thus, we must have that
    \begin{equation}
        g_{zz} \dd{z} \dd{z} = g_{\overbar{z}\overbar{z}} \dd{\overbar{z}} \dd{\overbar{z}} = 0, \qand g_{z\overbar{z}}\dd{z}\dd{\overbar{z}} + g_{\overbar{z}z}\dd{\overbar{z}}\dd{z} = 1.
    \end{equation}
    The requirement that \(g\) is symmetric implies the matrix form must be symmetric, which is how we end up with the \(1\) evenly split between the off-diagonal elements.
    
    \subsection{Analytic Structure of Conformal Transformations}
    In the complex coordinates, \((z, \overbar{z})\), we may consider a conformal transformation, \(\varphi \colon U \to V\), as consisting of two maps,
    \begin{equation}
        z \mapsto \varphi(z, \overbar{z}), \qqand \overbar{z} \mapsto \overbar{\varphi}(z, \overbar{z}) = \overline{\varphi(z, \overbar{z})}.
    \end{equation}
    Since the second is just the conjugate of the first we need only specify one of these maps.
    
    We can now write out the pullback condition and check what this imposes on \(\varphi\):
    \begin{align}
        \varphi^*(\dl{z}, \dl{\overbar{z}}) &= \dl{\varphi} \, \overline{\dl{\varphi}}\\
        &= \left( \diffp{\varphi}{z} \dd{z} + \diffp{\varphi}{\overbar{z}} \dd{\overbar{z}} \right)\left( \diffp{\overbar{\varphi}}{z} \dd{z} + \diffp{\overbar{\varphi}}{\overbar{z}} \dd{\overbar{z}} \right)\\
        &= \diffp{\varphi}{z}\diffp{\overbar{\varphi}}{z} (\dl{z})^2 + \diffp{\varphi}{z} \diffp{\overbar{\varphi}}{\overbar{z}} \dd{z} \dd{\overbar{z}} + \diffp{\varphi}{\overbar{z}} \diffp{\overbar{\varphi}}{z} \dd{\overbar{z}} \dd{z} + \diffp{\varphi}{\overbar{z}} \diffp{\overbar{\varphi}}{\overbar{z}} (\dl{\overbar{z}})^2 \notag\\
        &= \left( \diffp{\varphi}{z} \diffp{\overbar{\varphi}}{\overbar{z}} + \diffp{\varphi}{\overbar{z}} \diffp{\overbar{\varphi}}{z} \right) \dd{z} \dd{\overbar{z}} + \diffp{\varphi}{z} \diffp{\overbar{\varphi}}{z} (\dl{z})^2 + \diffp{\varphi}{\overbar{z}} \diffp{\overbar{\varphi}}{\overbar{z}} (\dl{\overbar{z}})^2.
    \end{align}
    Introducing the notation \(\partial_w f = \difsp{f}{w}\) we can now use
    \begin{equation}
        \overline{\partial_w f} = \overline{\diffp{f}{w}} = \diffp{\overbar{f}}{\overbar{w}} = \partial_{\overbar{w}} \overbar{f}
    \end{equation}
    to rewrite this in terms of \(\difsp{\varphi}{z}\) and \(\difsp{\varphi}{\overbar{z}}\):
    \begin{multline}
        \varphi^*(\dl{z}, \dl{\overbar{z}}) = ( (\partial_z \varphi) (\overline{\partial_{z} \varphi}) + (\partial_{\overbar{z}} \varphi) (\overline{\partial_{\overbar{z}} \varphi}) ) \dd{z} \dd{\overbar{z}}\\
        + (\partial_z \varphi) (\overline{\partial_{\overbar{z} \varphi}}) (\dl{z})^2 + (\partial_{\overbar{z}} \varphi) (\overline{\partial_z \varphi}) (\dl{\overbar{z}})^2.
    \end{multline}
    Now, if the pullback condition is to hold we must have
    \begin{equation}
        \varphi^*(\dl{z}, \dl{\overbar{z}}) = \Lambda(z, \overbar{z}) \dd{z} \dd{\overbar{z}}.
    \end{equation}
    So, we require that the \((\dl{z})^2\) and \((\dl{\overbar{z}})^2\) terms vanish, which imposes
    \begin{equation}
        (\partial_z \varphi) (\overline{\partial_{\overbar{z}} \varphi}) = 0.
    \end{equation}
    Thus, we must have
    \begin{equation}
        \partial_z \varphi = 0, \qqor \partial_{\overbar{z}} \varphi = 0.
    \end{equation}
    The second of these says that \(\varphi\) has no \(\overbar{z}\) dependence, and we know that \(\varphi\) is (at least) real differentiable, and thus \(\varphi\) is complex differentiable (with respect to \(z\)) and so \(\varphi\) is holomorphic.
    The first of these says that \(\varphi\) has no \(z\) dependence, and we know that \(\varphi\) is (at least) real differentiable, and thus \(\varphi\) is complex differentiable with respect to \(\overbar{z}\), and so \(\varphi\) is antiholomorphic (that is, it's holomorphic as a function of \(\overbar{z}\)).
    We therefore have two cases
    \begin{itemize}
        \item \(\varphi = \varphi(z)\) is holomorphic; or
        \item \(\varphi = \varphi(\overbar{z})\) is antiholomorhpic.
    \end{itemize}
    
    We are then left with the condition
    \begin{equation}
        (\partial_z\varphi)(\overline{\partial_z\varphi} + (\partial_{\overbar{z}} \varphi) (\overline{\partial_{\overbar{z}} \varphi})) = \abs{\partial_z \varphi}^2 + \abs{\partial_{\overbar{z}} \varphi} = \Lambda(z, \overbar{z}) > 0,
    \end{equation}
    which must hold for all \(z \in U\).
    
    The differential, \(\dl{\varphi}\), of a map \(\varphi \colon U \to V\) in complex coordinates has the matrix representation
    \begin{equation}
        \dl{\varphi} = 
        \begin{pmatrix}
            \partial_z \varphi & \partial_{\overbar{z}} \varphi\\
            \partial_z \overbar{\varphi} & \partial_{\overbar{z}} \overbar{\varphi}
        \end{pmatrix}
        .
    \end{equation}
    Thus, in the holomorphic case we have
    \begin{equation}
        \dl{\varphi} = 
        \begin{pmatrix}
            \partial_z \varphi & 0\\
            0 & \partial_{\overbar{z}} \overbar{\varphi}
        \end{pmatrix}
        , \qand \det(\dl{\varphi}) = \abs{\partial_z \varphi}^2 > 0,
    \end{equation}
    assuming that the derivative doesn't vanish as required to have a positive scaling of the metric.
    In the antiholomorphic case, making the same non-vanishing derivative assumption, we have
    \begin{equation}
        \dl{\varphi} = 
        \begin{pmatrix}
            0 & \partial_{\overbar{z}}\\
            \partial_z \overbar{\varphi} & 0
        \end{pmatrix}
        , \qand \det(\dl{\varphi}) = - \abs{\partial_{\overbar{z}} \varphi} < 0.
    \end{equation}
    The interpretation of these is that holomorphic conformal maps preserve orientation, whereas antiholomorphic conformal maps reverse orientation.
    This shouldn't be suprising, the most basic antiholomorphic map is \(z \mapsto \overbar{z}\), which is a reflection in the real axis, so reverses orientation.
    
    We state these results now as a theorem.
    
    \begin{thm}{}{}
        Any local conformal orientation preserving (reversing) transfformation \(\varphi \colon U \to \complex\) is specified by a holomorphic (antiholomorphic) function \(z \mapsto \varphi(z)\) (\(z \mapsto \varphi(\overbar{z})\)) which is invertible everywhere on \(\varphi(U)\).
    \end{thm}
        
    \subsection{Conformal Transformations Examples}
    We can now ask what conformal transformations \(\varphi \colon \complex \to \complex\) exist.
    We'll also consider conformal transformations defined only on \(\complex\setminus\{\pt\}\) where \(\pt\) is some point where the transformation need not be defined.
    
    \subsubsection{Rigid Transformations}
    The rigid transformations, or \define{isometries}\index{isometry} of \(\complex\) are the distance preserving transformations.
    As such they preserve the metric, and thus are conformal with \(\Lambda = 1\).
    It is well known that the isometries of the plane fall into three different classes.
    
    \paragraph{Translation}
    A translation, \(T_b \colon \complex \to \complex\), by \(b \in \complex\) is defined by
    \begin{equation}
        T_b(z) = z + b.
    \end{equation}
    This clearly preserves the metric since the distance between \(z\) and \(w\) is \(\abs{z - w}\), and the distance between \(T_b(z)\) and \(T_b(w)\) is \(\abs{T_b(z) - T_b(w)} = \abs{z + b - w - b} = \abs{z - w}\).
    Clearly \(T_b\) is bijective and smooth also, and it's defined everywhere, so it's a global conformal transformation.
    
    Translations form a group, which is simply the additive group \((\complex, +)\).
    
    \paragraph{Rotation}
    An anticlockwise rotation, \(R_{\alpha, 0} \colon \complex \to \complex\), by an angle \(\alpha\) about the origin, \(0\), is defined by
    \begin{equation}
        R_{\alpha, 0}(z) = \e^{i\alpha}z.
    \end{equation}
    This preserves the metric, since \(\abs{R_{\alpha, 0}(z) - R_{\alpha, 0}(w)} = \abs{\e^{i\alpha}z - \e^{i\alpha}w} = \abs{\e^{i\alpha}(z - w)} = \abs{z - w}\).
    Again, this is bijective, smooth, and defined everywhere, so it is also a global conformal transformation.
    
    Rotations about the origin form a group, which is simply \(\specialOrthogonal(2, \reals) \isomorphic \unitary(1)\).
    
    A rotation about some point, \(c \in \complex\), by an angle \(\alpha\) is simply given by
    \begin{equation}
        R_{\alpha, c} = T_c \circ R_{\alpha, 0} \circ T_{-c}.
    \end{equation}
    That is, we first translate the centre of rotation to the origin, then rotate, then translate back.
    This is again a conformal transformation, as all composites of conformal transformations are.
    
    Rotations and translations form a group.
    
    \paragraph{Reflection}
    A reflection, \(C_{0, 0} \colon \complex \to \complex\), in the real axis, that is \(x^2 = 0\), is given by conjugation
    \begin{equation}
        C_{0, 0}(z) = \overbar{z}.
    \end{equation}
    This preserves the metric, since \(\abs{C_{0, 0}(z) - C_{0, 0}(w)} = \abs{\overbar{z} - \overbar{w}} = \abs{\overline{z - w}} = \abs{z - w}\).
    Again, this is bijective, smooth, and defined everywhere, so it is also a global conformal transformation.
    
    Reflections in the real axis form a group isomorphic to \(\integers/2\integers\).
    
    A reflection in an arbitrary line can similarly be given as a composition of previously defined conformal transformations.
    To do so we parametrise the line by a point, \(c \in \complex\), through which it passes, and the angle, \(\alpha\), that the line makes to the positive real axis.
    Then a reflection in this line is given by
    \begin{equation}
        C_{\alpha, c} = T_b \circ R_{-\alpha, 0} \circ C_{0, 0} \circ R_{\alpha, 0} \circ T_{-b}.
    \end{equation}
    This is again a conformal transformation.
    
    \subsubsection{Dilation}
    A \defineindex{dilation} or \defineindex{dilitation} is a global conformal transformation, \(D_\rho \colon \complex \to \complex\), for \(\rho \in \reals_{>0}\), defined by
    \begin{equation}
        D_\rho(z) = \rho z.
    \end{equation}
    Intuitively, for \(\rho > 1\) this corresponds to stretching space out evenly in all directions, and for \(\rho < 1\) it's a contraction.
    Clearly this is bijective and smooth, and it is conformal with \(\Lambda = \rho^2\), since \(\dl{(\rho z)} \dd{(\rho \overbar{z})} = \rho^2 \dd{z}\dd{\overbar{z}}\).
    
    Dilations form a group, which is just the multiplicative group \((\complex^{\times}, \cdot)\).
    
    Just looking at the formulae we see that rotations about the origin and dilations are very similar, and in fact, we can combine them into a single transformation \(D_a \colon \complex \to \complex\) with \(a \in \complex\) and \(a = \rho \e^{i\alpha}\) for \(\rho \in \reals_{>0}\) and \(\alpha \in \reals\) and
    \begin{equation}
        D_a(z) = az = \rho \e^{i\alpha} z,
    \end{equation}
    which is a dilation by \(\rho\) and a rotation by \(\alpha\) (the order of which is not important).
    That is, \(D_a = D_\rho \circ R_{\alpha, 0} = R_{\alpha, 0} \circ D_\rho\), and \(R_{\alpha, 0} = D_{\e^{i\alpha}}\).
    
    The combination of all translations, dilations, and rotations forms a group, \(\Aff(\complex)\), the affine group.
    
    \subsubsection{Circle Inversion}
    One example of an antiholomorphic conformal transformation is the map \(\inversion_{0,R} \colon \complex\setminus\{0\} \to \complex\setminus\{0\}\), where \(R \in \reals_{>0}\), defined by
    \begin{equation}
        z \mapsto \frac{R^2}{\overbar{z}}.
    \end{equation}
    We can show that this is conformal by computing the metric after the transformation:
    \begin{equation}
        \dl{\left( \frac{R^2}{\overbar{z}} \right)} \dd{\left( \frac{R^2}{z} \right)} = \frac{R^4}{\abs{z}^4} \dd{z} \dd{\overbar{z}}.
    \end{equation}
    So, this is conformal with \(\Lambda = R^4/\abs{z}^4\).
    
    This transformation has a nice geometric picture, as seen in \cref{fig:circle inversion}.
    A point inside the unit circle is mapped to a point outside the unit circle, and that point is mapped to the original point inside the unit circle.
    We call this \defineindex{inversion}, it swaps the inside and outside of the unit circle (removing 0 from the interior for the map to be defined).
    This swapping can even be done geometrically.
    Given a point, \(P\), in the unit circle draw a line through the origin, \(O\), and \(P\).
    Then this map swaps \(P\) with the point \(P'\) which is such that \(\abs{OP}\abs{OP'} = R^2\).
    
    \begin{figure}
        \tikzsetnextfilename{circle-inversion}
        \begin{tikzpicture}
            \draw [thick] (0, 0) circle [radius=3cm];
            \draw [thick] (0, 0) -- (30:5);
            \fill [highlight] (30:2) circle [radius=0.075cm];
            \node [below] at (30:2) {\(P\)};
            \fill [highlight] (30:4.5) circle [radius=0.075cm];
            \node [below] at (30:4.5) {\(P'\)};
            \draw [thick] (0, 0) -- (-30:5);
            \fill [highlight] (-30:2.5) circle [radius=0.075cm];
            \node [below] at (-30:2.5) {\(Q\)};
            \fill [highlight] (-30:9/2.5) circle [radius=0.075cm];
            \node [below] at (-30:9/2.5) {\(Q'\)};
            \node [left] at (0, 0) {\(O\)};
        \end{tikzpicture}
        \caption[Circle inversion]{Circle inversion, the interior and exterior of the circle are swapped. Here, for example, \(R = 3\), \(\abs{OP} = 2\), and so \(P'\) was chosen with \(\abs{OP'} = 9/2\) so that \(\abs{OP}\abs{OP'} = 9\). Similarly, \(\abs{OQ} = 2.5\) and so \(Q'\) was chosen with \(\abs{OQ'} = 9/2.5\). Notice that points closer to the origin map to points further away from the circle and points near the circle map to points near the circle.}
        \label{fig:circle inversion}
    \end{figure}
    
    Notice that \(\inversion_{0,R} \circ \inversion_{0,R} = \id_{\complex\setminus\{0\}}\), so this is invertible everywhere it's defined.
    
    It's possible to do an inversion in a circle centred elsewhere by translation, define \(\inversion_{c, R} \colon \complex \setminus \{c\} \to \complex \setminus \{c\}\) by \(\inversion_{c, R} = T_c \circ \inversion{0, R} \circ T_{-c}\).
    
    We can get a holomorphic version of this transformation by composing with \(C\), since \(C \circ \inversion_{0, R}\) acts as \(z \mapsto R^2 / z\) which is holomorphic on \(\complex \setminus \{0\}\).
    
    \subsubsection{Special Conformal Transformations}
    We have covered almost all conformal transformations of the plane now.
    It turns out that there's just one more type, known as \define{special conformal transformations}\index{special conformal transformation}.
    To arrive at this one may consider the composite
    \begin{equation}
        \inversion{0, R} \circ T_a \circ \inversion_{0, R}(z) = \inversion_{0, R} \circ T_a\left( \frac{R^2}{\overbar{z}} \right) = \inversion_{0, R}\left( \frac{R^2}{\overbar{z}} + a \right) = \frac{R^2}{\overline{\frac{R^2}{\overbar{z}} + a}} = \frac{z}{\frac{\overbar{a}}{R^2}z + 1}.
    \end{equation}
    Since \(\overbar{a}/R^2\) can take on any complex value as \(a\) and \(R\) vary we see that a special conformal transformation, \(S_c \colon \complex \setminus \{-1/c\} \to \complex\) with \(c \in \complex \setminus \{0\}\) is given by
    \begin{equation}
        S_c(z) = \frac{z}{cz + 1}.
    \end{equation}
    For \(c = 0\) \(S_0(z) = z/(0z + 1) = z\), so \(S_0 = \id_{\complex}\) is defined everywhere.
    
    Note that when considering the composite \(\inversion_{0, R} \circ T_a \circ \inversion_{0, R}\) we should, \textit{a priori}, remove two points from the domain, \(0\) and \(-R^2/\overbar{a}\).
    However, after going through the calculation we see that actually the resulting expression is defined at 0.
    Thus, we may allow 0 after all.
    We will, in general, always take conformal transformations to be defined on the largest possible domain.
    In this case we can think of this as an analytic continuation of the special conformal transformation to the point 0.
    This is a hint that we need to better handle these undefined points, which we do in . % TODO: add reference to compactification/C_infty
    
    \subsection{Global Conformal Transformations}
    Restricting to orientation preserving (holomorphic) conformal transformations it turns out that the requirement that a global conformal transformation is defined everywhere is actually quite restrictive.
    It leaves us with just rotations, dilations, and translations.
    Together these form the affine group, \(\Aff(\complex)\).
    A general affine transformation \(\varphi \colon \complex \to \complex\), is of the form
    \begin{equation}
        \varphi(z) = az + b
    \end{equation}
    for some \(a \in \complex^{\times}\) and \(b \in \complex\).
    It is a result of complex analysis that these are the only orientation-preserving global conformal transformations.
    
    \begin{lma}{}{}
        Affine transformations are the only orientation-preserving global conformal transformations of \(\complex\).
        \begin{proof}
            We know that an orientation-preserving global conformal transformation must be a holomorphic function of \(\complex\) which is invertible everywhere.
            Such a function may not have branch cuts or singularities, as these are points at which it is undefined.
            In a neighbourhood of an essential singularity the image of the function is the entirety of \(\complex\), thus, if the function is to be defined outside of this neighbourhood as well, and also be injective there can be no such essential singularities.
            Thus, \(\varphi\) must be meromorphic, and so can be written as
            \begin{equation}
                \varphi(z) = \frac{P(z)}{Q(z)}
            \end{equation}
            where \(P, Q \in \complex[z]\) are polynomials, and we may assume that they don't share any common factors.
            Since we aren't allowed any poles we must actually have that \(Q(z) = c\) is just a constant polynomial, and we can rescale \(P\) to take \(Q(z) = 1\).
            So, \(\varphi(z) = P(z)\) is a polynomial.
            This polynomial cannot have more than one distinct zero, since this would violate the injectivity requirement.
            Hence, \(\varphi(z) = P(z) = a(z - z_0)^n\) for some \(a, z_0 \in \complex\) and \(n \in \integers_{>0}\).
            We can show that actually we must have \(n \le 1\), since if \(n \ge 2\) then such a map is not injective, mapping both \(z = z_0 + 1\) and \(z = z_0 - 1\) to \(1\).
            Thus, \(\varphi(z) = P(z) = a(z - z_0)^n\) for \(n = 0, 1\), and thus \(\varphi(z)\) is linear.
            One further application of injectivity tells us that \(\varphi(z) = b\) (\(b \in \complex\)) is not an acceptable solution, and thus \(\varphi(z) = az + b\) for some \(a \in \complex^{\times}\) and \(b \in \complex\), so \(\varphi\) is an affine transformation.
        \end{proof}
    \end{lma}
    
    If we instead allow global transformations to be defined on \(\complex\) minus a finite set of points then we can expand the allowed transformations a little bit.
    As with the proof above branch cuts aren't allowed, they require infinitely many undefined points.
    We also don't allow essential singularities by the same argument on injectivity as in the proof.
    Thus, we're left with \(\varphi(z) = P(z)/Q(z)\) where \(P\) and \(Q\) are polynomials.
    We require that the set of zeros of \(Q\) coincides with the set of removed points.
    Injectivity requires that \(P\) has a unique zero of order 1, so it must be linear.
    Injectivity also requires that \(Q\) has a unique zero, if it had more than one then a small circle around the corresponding poles would map to a large circle, and it would be possible to choose circles around two different poles which mapped to the same large circle.
    Further, the order of this zero of \(Q\) must be 1, else a small circle around the corresponding pole would map to a circle that winds around more than once, again, failing to be injective.
    Thus, \(P\) and \(Q\) must be linear, and we are left only with transformations
    \begin{equation}
        z \mapsto \frac{az + b}{cz + d} \quad \text{where} \quad ad - bc \ne 0.
    \end{equation}
    These are called \define{M\"obius transformations}\index{M\"obius transformation}.
    The condition that \(ad - bc \ne 0\) is required for this map to be invertible.
    Such a transformation is defined on \(\complex \setminus \{-d/c\}\) if \(c \ne 0\), or \(\complex\) if \(c = 0\).
    
    If we have M\"obius transformations
    \begin{equation}
        z \mapsto \frac{az + b}{cz + d}, \qqand z \mapsto \frac{ez + f}{gz + h}
    \end{equation}
    with \(a, b, c, d, e, f, g, h \in \complex\) such that \(ab - cd \ne 0\) and \(eh - fg \ne 0\) then the composite performed in the order above is
    \begin{equation}
        z \mapsto \frac{(ae + bg)z + (af + bh)}{(ce + dg)z + (cf + dh)}.
    \end{equation}
    We see that this is again a M\"obius transformation since we can show that the condition on invertibility is \((bc - ad)(fg - eg) \ne 0\), which is true.
    Note that while these M\"obius transformations are individually defined on \(\complex \setminus \{-d/c\}\) and \(\complex \setminus \{-h/g\}\) the composite may be taken to be defined on \(\complex \setminus \{-(cf + dh)/(ce + dg)\}\), despite passing through undefined points in the composite.
    
    Noticing that \(ad - bc\) looks like a determinant we recognise that we may package the parameters of the M\"obius transformation into a matrix,
    \begin{equation}
        A = 
        \begin{pmatrix}
            a & b\\
            c & d
        \end{pmatrix}
    \end{equation}
    with \(\det A \ne 0\).
    That is, \(A \in \generalLinear(2, \complex)\).
    Further, a simple calculation shows that if we have two such matrices then their product exactly corresponds to the composition of the corresponding matrices.
    That is, we have a homomorphism \(\generalLinear(2, \complex) \to G\) where \(G\) is the group of all M\"obius transformations under composition.
    
    This mapping is surjective, but not injective, since, for example, with \(A \in \generalLinear(2, \complex)\) both \(A\) and \(\lambda A\) (for \(\lambda \in \complex^{\times}\)) map to the same M\"obius transformations since
    \begin{equation}
        \frac{az + b}{cz + d} = \frac{\lambda az + \lambda b}{\lambda cz + \lambda d}.
    \end{equation}
    We can use this rescaling to always choose our parameters such that \(ad - bc = 1\).
    That is, we can restrict our consideration to matrices of unit determinant.
    This gives a homomorphism \(\specialLinear(2, \complex) \to G\).
    Note that under this correspondence the following are a translation, \(z \mapsto z + b\), dilation, \(z \mapsto az\), special conformal transformation, \(z \mapsto z/(cz + 1)\), and orientation-preserving inversion, \(z \mapsto 1/z\):
    \begin{equation}
        \begin{pmatrix}
            1 & b\\
            0 & 1
        \end{pmatrix}
        , \quad 
        \begin{pmatrix}
            a^{1/2} & 0\\
            0 & a^{-1/2}
        \end{pmatrix}
        , \quad
        \begin{pmatrix}
            1 & 0\\
            c & 1
        \end{pmatrix}
        , \qand 
        \begin{pmatrix}
            0 & i\\
            i & 0
        \end{pmatrix}
        .
    \end{equation}
    
    This map is still not injective.
    If \(A \in \specialLinear(2, \complex)\) then \(-A \in \specialLinear(2, \complex)\) both \(A\) and \(-A\) map to the same M\"obius transformation.
    The solution is to consider the group\footnote{\(\identityMatrix\) is the identity matrix.}
    \begin{equation}
        \projectiveSpecialLinear(2, \complex) \coloneqq \specialLinear(2, \complex) / \{\pm \identityMatrix\}
    \end{equation}
    called the \defineindex{projective special linear group}.
    Then we finally have \(\projectiveSpecialLinear(2, \complex) \isomorphic G\).
    For the most part we will look at matrices in \(\specialLinear(2, \complex)\), sine it's easier than working with the cosets of \(\projectiveSpecialLinear(2, \complex)\), and we'll just remember that we have this overall freedom in the sign of the matrix.
    
    We will call translations, rotations/dilations, special conformal transformations, and the inversion \(z \mapsto 1/z\) the \define{elementary conformal transformations}\index{elementary conformal transformation}.
    Any M\"obius transformation is generated by these elementary transformations.
    
    An important fact about M\"obius transformations is that any M\"obius transformation maps a circle on the plane to either another circle, or a line (which we may view as a circle of infinite radius).
    This is really a fact about inversions and special conformal transformations, since translations, rotations, and dilations trivially map circles to circles.
    
    \subsubsection{Dealing With Infinity}
    Here we look at two ways to deal with infinity.
    The first is simpler, but doesn't really give us anything new.
    The second is more complicated, but gives us a new way to view the plane.
    
    \paragraph{Extended Complex Numbers}
    Define the set
    \begin{equation}
        \complex_{\infty} \coloneqq \complex \cup \{\infty\}
    \end{equation}
    where \(\infty\) is a formal symbol.
    We can extend the natural structure of \(\complex\) to \(\complex_{\infty}\) by making the following definitions for \(z \in \complex\):
    \begin{equation}
        z + \infty = \infty + z = \infty, \quad \infty z = \infty, \quad \frac{1}{\infty} = 0, \qand \frac{1}{0} = \infty.
    \end{equation}
    Then if we have a M\"obius transformation, \(\varphi\), defined by
    \begin{equation}
        \varphi(z) = \frac{az + b}{cz + d}
    \end{equation}
    we can take it as a function \(\complex_{\infty} \to \complex_{\infty}\) by defining
    \begin{equation}
        \varphi(-d/c) = \infty, \qqand \varphi(\infty) = \frac{a}{c}.
    \end{equation}
    Further, since this is now defined at \(-d/c\) and \(\infty\) we see that this is a bijection of \(\complex_{\infty}\).
    
    This definition works for our set-theoretical concerns, but it doesn't really help with the geometry.
    Where is this point, \(\infty\), with respect to the other points of \(\complex\)?
    It should be \enquote{infinitely far away}, but in what direction?
    The solution to these problems is to use the next method of dealing with infinity.
    
    \paragraph{Conformal Compactification}
    The Riemann sphere from complex analysis gives a bijection mapping of \(\complex_{\infty}\) to the unit sphere, \(S^2\).
    This mapping is by stereographic projection.
    The construction is as follows:
    \begin{itemize}
        \item Embed the plane in \(\reals^3\) with coordinates \((u, v, w)\) as the \(w = 0\) plane.
        \item Embed the sphere in \(\reals^3\) as the set \(\{(u, v, w) \in \reals^3 \mid u^2 + v^2 + w^2 = 1\}\).
        \item To map a point of the plane, \((u, v, w)\), to a point on the sphere draw a line from the point to the point \((0, 0, 1)\), which we think of as the north pole of the sphere.
        This line intersects the sphere in two points, the north pole and one other.
        Map \((u, v, w)\) to this other point.
        \item To map the other way draw a line from the north pole to a point on the sphere (not equal to the north pole) and where this line intersects the plane is where the point on the sphere maps.
        The north pole maps to \(\infty\).
    \end{itemize}
    We call \(S^2\) cosntructed in this way the conformal compactification of the plane, or the one-point compactification of the sphere.
    Conformal because, as we'll show shortly, this mapping is conformal, and one-point because we add a point corresponding to the north pole.
    Compactification because the sphere is compact when the plane wasn't.
    
    After some geometry we end up with a map
    \begin{align}
        s \colon S^2 \setminus \{N\} &\to \complex\\
        (u, v, w) &\mapsto \frac{u + iv}{1 - w}
    \end{align}
    where we've identified the \(w = 0\) plane with \(\complex\) taking the \(u\) and \(v\) axes as the real and imaginary axes respectively.
    The inverse of this mapping is
    \begin{equation}
        s^{-1}(x + iy) = \left( \frac{2x}{x^2 + y^2 + 1}, \frac{2y}{x^2 + y^2 + 1}, \frac{x^2 + y^2 - 1}{x^2 + y^2 + 1} \right).
    \end{equation}
    
    This mapping is conformal with respect to the standard metrics on \(S^2\) and \(\complex\).
    The standard metric on \(S^2\) is just the pullback of the Euclidean metric on \(\reals^3\) along the embedding map.
    So, to check that \(s\) is conformal it is sufficient to calculate the pullback \((s^{-1})^*\) of the standard metric of \(\reals^3\).
    The calculation is straightforward, but a little heavy on the algebra.
    The result is that
    \begin{align}
        (\dl{u})^2 + (\dl{v})^2 + (\dl{w})^2 &= \left( \frac{2\dd{x}}{r^2 + 1} - \frac{2x \dd{r^2}}{(r^2 + 1)^2} \right)^2 + \left( \frac{2\dd{x}}{r^2 + 1} - \frac{2y \dd{r^2}}{(r^2 + 1)^2} \right)^2 \notag\\
        &\qquad + \left( \dd{\left( \frac{r^2 - 1}{r^2 + 1} \right)} \right)^2\\
        &= \frac{4}{(r^2 + 1)^2}(\dl{x^2} + \dl{y^2})\\
        &= \frac{4}{(\abs{z}^2 + 1)^2} \dd{z}\dd{\overbar{z}}.
    \end{align}
    Here \(r^2 = x^2 + y^2\).
    This shows that \(s^{-1}\) is conformal with
    \begin{equation}
        \Lambda = \frac{4}{(\abs{z}^2 + 1)^2}.
    \end{equation}
    
    This means that if we have a M\"obius transformation defined on \(\complex\setminus\{p\}\) we can uniquely extend it to a M\"obius transformation defined on \(S^2\) by taking \(\hat{\varphi} = s^{-1} \circ \varphi \circ s\) on \(S^2 \setminus \{N, s^{-1}(p)\}\), and then defining
    \begin{equation}
        \hat{\varphi}(N) = s^{-1}(a / c), \qand \hat{\varphi}(s^{-1}(p)) = N.
    \end{equation}
    This allows us to identify \(N\) with \(\infty\) from \(\complex_{\infty}\).
    Further, it can be shown that all conformal transformations of the sphere arise in this way, so we don't lose or gain anything by looking at \(S^2\) in place of \(\complex\) or \(\reals^2\).
    
    One way to view this process is that \((\complex, s)\) is a coordinate chart on \(S^2\) covering all points except \(N\).
    We can then get another coordinate chart \((\complex, \tilde{s})\) by repeating the stereographic projection process but with the south pole instead.
    These two charts cover the sphere and the transition maps between them are smooth on their intersection, and as such \(S^2\) is a manifold.
    On the overlap of these two charts they are related by the inversion \(z \mapsto 1/z\).
    To see this note that if a point is on the top hemisphere of the sphere then stereographic projection from the north pole takes it to the outside of the circle in the plane, and if it is on the bottom hemisphere of the sphere then stereographic projection maps it to a point inside the circle.
    The equator maps to the circle.
    Projecting from the south pole instead reverses this.
    
    Using this manifold structure we can look at the neighbourhood of the north pole by working in the \((\complex, \tilde{s})\) chart.
    This let's us do things like take the tangent space \(T_NS^2\).
    This is an advantage over \(\complex_{\infty}\) where we don't have a sensible notion of a tangent space at infinity.
    
    This relation between the two charts further shows that the standard metric on \(S^2\) is locally conformally flat on \(S^2\), in particular, it's flat on \(S^2 \setminus \{N\}\).
    By this we simply mean that a conformal transformation takes the sphere metric on \(S^2\setminus\{N\}\) to the standard flat metric on \(\complex\).
    In a sense, we can push all of the curvature to a single point, \(N\).
    Locallity is important here, there is no globally conformally flat metric, as there is a theorem of differential geometry (the Gauss--Bonnet theorem) that says that the curvature of a manifold, \(M\), is \(2\pi \chi(M)\) where \(\chi\) is the Euler characteristic, which is 2 for \(S^2\), and so there cannot be globally zero curvature.
    This is fine in our case because the curvature is given by the integral
    \begin{equation}
        \int_M \sqrt{g} R \dd{A}
    \end{equation}
    where \(R\) is the Ricci scalar.
    Taking \(R\) to be an appropriately scaled Dirac delta supported at \(N\) allows this to evaluate to \(4\pi\) as needed while retaining zero curvature on \(S^2\setminus\{N\}\).
    
    We will swap back and forth between \(\complex\), \(\complex_{\infty}\), and \(S^2\) as needed, and probably refer to all three as \enquote{the plane} and by each others names.
    
    \section{Infinitesimal Conformal Transformations}
    Given an open subset, \(U \subseteq \reals^2\) a \defineindex{vector field} on \(U\) is a map
    \begin{equation}
        \varepsilon \colon U \to T\reals^2
    \end{equation}
    where \(T\reals^2\) is the tangent bundle.
    That is, \(\varepsilon\) assigns a tangent vector, \(\varepsilon_p\), to each point \(p \in U\).
    Let \(x = (x^1, x^2)\) be coordinates covering \(U\).
    Then we can take the standard basis for \(T_p\reals^2\), given by \(\{\difsp{}{x^i}|_p\}\), although we'll drop the \(|_p\) from the notation.
    Then in these coordinates the vector field \(\varepsilon\) may be expressed as
    \begin{equation}
        \varepsilon^i(x) \diffp{}{x^i}
    \end{equation}
    where \(\varepsilon^i \colon U \to \reals\) are smooth functions (assuming we want a smooth vector field).
    
    This operator (as with all tangent vectors) acts on functions defined on \(U\).
    This action can be exponentiated to obtain a finite transformation, which is done by solving the differential equation
    \begin{equation}
        \diff{}{t} \varphi^{\varepsilon}(x, t) = \varepsilon(\varphi^\varepsilon(x, t))
    \end{equation}
    where \(\varphi^\varepsilon \colon U \times I_0\to \reals\) is a one-parameter group of finite transformations labelled by a parameter \(t \in I_0 = (a, b) \subseteq \reals\) and we assume \(0 \in I_0\).
    Moving to coordinates this gives us the differential equation
    \begin{equation}
        \diff{}{t} \varphi^j(x, t) = \varepsilon^i(x) \diffp{}{x^i} \varphi^j(x, t).
    \end{equation}
    We impose the initial condition that \(\varphi^j(x, 0) = x^j\), so we start at the desired point.
    This has a solution so long as \(\abs{t} < \delta\) for some positive \(\delta\).
    This solution can be expressed formally as
    \begin{equation}
        \varphi^j(x, t) = \e^{t \varepsilon^i(x) \partial_i}x^j
    \end{equation}
    where the exponential is understood via its Taylor series.
    The finite transformation we end up with is
    \begin{equation}
        x^j \mapsto \varphi^j(x, t).
    \end{equation}
    The infinitesimal transformation is given by truncating the power series after the first order term:
    \begin{equation}
        x^j \mapsto x^j + t\varepsilon^j(x).
    \end{equation}
    
    A vector field, \(X\), is called a \defineindex{conformal Killing vector field} if the transformations \(\varphi^X(x, t)\) are local conformal transformations for sufficiently small intervals of \(t\) containing \(t = 0\).
    Using this definition one can show that this is equivalent to the equation
    \begin{equation}
        \lieDerivative_\varepsilon g = \lambda g
    \end{equation}
    where \(\lieDerivative_\varepsilon\) is the Lie derivative, \(g\) is the standard metric on \(\reals^2\), and \(\lambda \colon U \to \reals\) is a (not necessarily positive) function on \(U\).
    This is the infinitesimal version of the pullback requirement.
    
    In coordinates we can take the transformation \(x^j \mapsto x^j + t\varepsilon^j(x)\) and compute the change in coordinates of the metric.
    Dropping all higher order terms we are left with
    \begin{equation}
        \partial_i \varepsilon_j + \partial_j \varepsilon_i = \lambda(x) \delta_{ij}.
    \end{equation}
    Note that we are freely lowering all indices here since the standard metric is \(\delta_{ij}\).
    This is the coordinate version of the above statement with the Lie derivative having substituted \(\delta_{ij}\) for the components of the standard metric.
    Taking the trace of this equation we are left with
    \begin{equation}
        \partial_i \varepsilon^i = \lambda(x).
    \end{equation}
    Substituting this back into the previous equation we have
    \begin{equation}
        \partial_1 \varepsilon^2 = -\partial_2 \varepsilon^1, \qand \partial_1 \varepsilon^1 = \partial_2 \varepsilon^2.
    \end{equation}
    If we take our coordinates to be \(x\) and \(y\) and let \(\varepsilon = u(x, y) + iv(x, y)\) then we can see that these are exactly the Cauchy--Riemann equations of complex analysis.
    This means that the complex coordinate components \(\varepsilon^z = \varepsilon(z)\) and \(\varepsilon^{\overbar{z}} = \overline{\varepsilon(z)}\) must be holomorphic.
    Note that we don't get antiholomorphic solutions.
    This is because the orientation reversing conformal transformations do not have infinitesimal versions, which is because they are in a different connected component of the Lie group of conformal transformations.
    
    An infinitesimal local conformal transformation is then written as
    \begin{equation}
        z \mapsto z + \varepsilon(z), \qand \overbar{z} \mapsto \overbar{z} + \overline{\varepsilon(z)}
    \end{equation}
    on some open set, \(U\).
    The collection of all conformal Killing vector fields forms a real vector space, \(V_0\).
    We know that \(\varepsilon(z)\) is holomorphic, and so analytic on \(U\).
    This means that in a neighbourhood of any point \(\varepsilon\) has a convergent Taylor series.
    For the following we'll take \(U\) to be the punctured disc at the origin, 
    \begin{equation}
        U = \{z \mid \abs{z} < r \text{ and } z \ne 0\} \qwhere r > 0,
    \end{equation}
    but, this will hold for any sufficiently nice \(U\).
    We take the puncture disc to allow for \(\varepsilon\) to have a pole at 0.
    Then \(\varepsilon\) has a Laurent series in a neighbourhood of \(z = 0\) given by
    \begin{equation}
        \varepsilon(z) = \sum_{n \in \integers} c_n z^{n + 1}.
    \end{equation}
    The fact that we have \(z^{n + 1}\) rather than \(z^n\) is just a convention to make other notation line up later, since the sum is over all of \(\integers\) this doesn't change the sum at all.
    The coefficients \(c_n\) with \(n \ll 0\) must vanish, since we assume that we only have a simple pole.
    The corresponding vector field is then given in the basis \(\{\partial_z, \partial_{\overbar{z}}\}\) for the tangent space at \(z\) by
    \begin{equation}
        \varepsilon^z \partial_z + \varepsilon^{\overbar{z}} \partial_{\overbar{z}} = -\sum_{n \in \integers} (c_n l_n + \overbar{c}_n \overbar{l}_n)
    \end{equation}
    where the \(l_n\) and \(\overbar{l}_n\) are the differential operators
    \begin{equation}
        l_n = -z^{n + 1} \partial_z, \qand \overbar{l}_n = -\overbar{z}^{n + 1} \partial_{\overbar{z}}.
    \end{equation}
    These operators are such that \(\{l_n + \overbar{l}_n, i(l_n - \overbar{l}_n)\}_{n \in \integers}\) forms a (real) basis for \(V_0\).
    
    A quick calculation shows that \(V_0\) is closed under the commutator.
    As such \(V_0\) is an (infinite-dimensional) real Lie algebra.
    The commutation relations of the basis vectors \(l_n + \overbar{l}_n\) and \(i(l_n - \overbar{l}_n)\) can be computed in a straightforward way, but they're somewhat complicated.
    It is nicer to state the commutation relations for \(l_n\) and \(\overbar{l}_n\) separately.
    We can then reconstruct the commutation relations for \(l_n + \overbar{l}_n\) using linearity.
    To reconstruct the commutation relations for \(i(l_n - \overbar{l}_n)\) we need to allow complex scalars, which results in us looking at the complexification \(V_0^{\complex} \isomorphic V_0 \oplus iV_0 \isomorphic V_0 \otimes_{\reals} \complex\).
    The corresponding Lie algebra then has the (complex) basis \(\{l_n, \overbar{l}_n\}_{n \in \integers}\).
    These satisfy the commutation relations
    \begin{equation}
        \bracket{l_n}{l_m} = (n - m)l_{n + m}, \quad \bracket{\overbar{l}_n}{\overbar{l}_m} = (n - m) \overbar{l}_{n + m}, \qand \bracket{l_n}{\overbar{l}_m} = 0.
    \end{equation}
    We see from this that what we actually have is that \(V_0^{\complex}\) consists of two commuting copies of the Lie algebra \(\{l_n\}_{n \in \integers}\), where the second copy is marked with a bar to distinguish it.
    From basic Lie theory we recognise that this means that \(V_0^{\complex}\) may be written as a direct sum
    \begin{equation}
        V_0^{\complex} = \Witt \oplus \Witt.
    \end{equation}
    Here \(\Witt\) is the \defineindex{Witt} algebra, which abstractly is defined as the complex Lie algebra generated by \(\{l_n\}_{n \in \integers}\) with the commutation relation \(\bracket{l_n}{l_m} = (n - m)l_{n + m}\).
    Less abstractly the Witt algebra is the algebra of derivations of the space of Laurent polynomials \(\complex[z, z^{-1}]\).
    
    Restricting to just the Witt algebra briefly we can look at the subalgebra generated by \(\{l_{-1}, l_0, l_1\}\).
    This subalgebra is isomorphic to \(\specialLinearLie(2, \complex)\), which can be shown by taking the basis
    \begin{equation}
        e_{-1} = 
        \begin{pmatrix}
            0 & 0\\
            -1 & 0
        \end{pmatrix}
        = -f, 
        , \quad e_0 = \frac{1}{2}
        \begin{pmatrix}
            -1 & 0\\
            0 & 1
        \end{pmatrix}
        = -\frac{1}{2}h, \qand e_1 = 
        \begin{pmatrix}
            0 & 1\\
            0 & 0
        \end{pmatrix}
        = e
    \end{equation}
    for \(\specialLinearLie(2, \complex)\), and we can then show, either from the matrices or from the standard commutation relations of \(\{h, e, f\}\), that we have \(\bracket{e_n}{e_m} = (n - m)e_{n + m}\).
    
    Considering both Witt algebras now, still restricting to \(n = -1, 0, 1\), we can compute the following exponentials for \(a, b, c \in \complex\):
    \begin{align}
        \e^{-bl_{-1} - \overbar{b}\overbar{l}_{-1}}z = \e^{b \partial_z}z &= z + b\\
        \e^{-al_0 - \overbar{a}\overbar{l}_0}z = \e^{az\partial_z}z = \e^az\\
        \e^{cl_1 + \overbar{c}\overbar{l}_1}z = \e^{-cz^2\partial_z} = \frac{z}{cz + 1}
    \end{align}
    The first two expressions here are standard using the power series, the third follows by summing the power series using the geometric series when \(\abs{zc} < 1\), and then analytically continuing to \(\complex \setminus \{-1/c\}\).
    We see that we generate the translations, rotations/dilations (since \(a \in \complex\) so \(\e^a \in \complex^{\times}\)) and special conformal transformations from this subalgebra of \(V_0^{\complex}\).
    By moving to the universal enveloping algebra, allowing us to consider products such as \(l_0l_1\), we get composites of these conformal transformations upon exponentiation, and thus we generate all M\"obius transformations this way.
    
    The fact that the algebra \(W^{\complex}\) is infinite-dimensional is special to two dimensions.
    In \(d\) dimensions with \(d > 2\) it turns out that the conformal algebra is \(\specialOrthogonalLie(d + 2)\), which is finite dimensional (the dimension is actually \((d + 2)(d + 3)/2\)).
    
    \chapter{Quantum Field Theory}
    In this chapter we look at quantum field theory in general.
    We do not impose any conformal symmetry.
    We will develop QFT axiomatically, mostly focusing on some special functions called correlators.
    We do not interest ourselves with the physical interpretation of any of the objects discussed.
    We will introduce functional integration (also known as path integrals), which is just one of two main ways that a QFT can be constructed, the other being second quantisation, which we won't look at.
    The path integral construction is, at best, ill-defined, but we won't let this bother us and work with the path integrals as formal objects possessing the desired properties.
    
    \section{Correlation Functions}
    A quantum field theory is a quantum theory regarding fields, which are generally operator-valued functions of spacetime.
    We shall restrict our study to Euclidean QFTs in two-dimensions, where spacetime is \(\reals^2\) with the standard metric, or equivalently, \(\complex\) with the standard metric.
    
    We follow the standard physics practice of not really specifying what our fields are, or what they act on, and just say that we have some fields, which we'll denote with a calligraphic font for now, so \(\quantumField{O}\), \(\quantumField{A}\), and so on (later we'll see \(\DL\), which is not a field).
    We call these \define{local fields}\index{local field}, because they depend on the position of a single point.
    
    While we don't specify what the fields are as functions of spacetime they do have a natural notion of addition and scaling, and so it's natural to assume that we have a vector space, \(W\), of fields.
    We can take \(W\) to be a real or complex vector space.
    If we take \(W\) to be a real vector space then we can always complexify to get \(W^{\complex}\) and identifying \(W\) as a real subspace of this complex vector space.
    This allows us to always assume that \(W\) is a vector space over \(\complex\).
    
    \begin{dfn}{Correlator}{}
        Let \(W\) be the vector space of local fields, and let \(\quantumField{O}_1, \dotsc, \quantumField{O}_n \in W\) be local fields.
        Define the set
        \begin{equation}
            \Delta_n \coloneqq \{(z_1, \dotsc, z_n) \in (\reals^2)^n \mid z_i = z_j \text{ for some } i \ne j\},
        \end{equation}
        this consists of all \(n\)-tuples of elements of \(\reals^2\) where two (or more) elements are equal.
        Then we define the \define{\(\symbf{n}\)-point correlation function}\index{correlation function} (or correlator) as a function
        \begin{equation}
            \reals^{2n} \setminus \Delta_n \to \complex
        \end{equation}
        defined by
        \begin{equation}
            (z_1, \dotsc, z_n) \mapsto \correlator{\quantumField{O}_1(z_1) \dotsm \quantumField{O}_n(z_n)} \in \complex.
        \end{equation}
        We will identify \(\reals^2\) with \(\complex\) and then we instead have
        \begin{equation}
            \Delta_n = \{(z_1, \dotsc, z_n) \in \complex^n \mid z_i = z_j \text{ for some } i \ne j\}
        \end{equation}
        and the correlation functions are functions
        \begin{equation}
            \complex^n \setminus \Delta_n \to \complex.
        \end{equation}
    \end{dfn}
    
    Note that while we write \(\quantumField{O}_i(z_i)\) we do not require that the \(\quantumField{O}_i\) are complex-analytic, and could just as well write \(\quantumField{O}_i(z_i, \overbar{z}_i)\), but we'll soon see that expressions in QFT already get quite large, so we don't want to add even more symbols.
    
    We do not specify how the correlation function is evaluated, for now it's just notation.
    We'll look at one way to evaluate it later.
    For now we just demand that these functions have some desirable properties.
    
    The first property is that the correlators are independent\footnote{Here we assume that the fields represent bosons (particles with integer spin). If instead they represent fermions (particles with half-integer spin) then exchanging two fermionic fields should pick up a minus sign. The result is that in the following formula we need a \(\sgn \pi\) factor for fermionic fields.} of the order in which we write the \(\quantumField{O}_i(z_i)\).
    That is, for \(\pi \in S_n\) we should have
    \begin{equation}
        \correlator{\quantumField{O}_1(z_1) \dotsm \quantumField{O}_n(z_n)} = \correlator{\quantumField{O}_{\pi(1)}(z_{\pi(1)}) \dotsm \quantumField{O}_{\pi(n)}(z_{\pi(n)})}.
    \end{equation}
    Note that we have to permute both the fields and the evaluation points to get the equality\footnote{The correlator may be thought of as a function of the product of the fields. When we think of the fields as operators as in second quantisation we do not assume that they commute. However, when in a correlator we are either doing path integrals, in which case the fields are taken to commute, or if we are doing second quantisation then for these expressions to make sense we must normal order the terms in the product, and this fixes an ordering independently of the order we write.}.
    
    The second property that we require is linearity in the fields.
    That is, if \(\quantumField{O}_1 = \quantumField{A}_1 + \lambda \quantumField{B}_1\) for \(\lambda \in \complex\) and \(\quantumField{A}_1, \quantumField{B}_1 \in W\) then we have
    \begin{multline}
        \correlator{\quantumField{O}_1(z_1) \quantumField{O}_2(z_2) \dotsm \quantumField{O}_n(z_n)}\\
        = \correlator{\quantumField{A}_1(z_1) \quantumField{O}_2(z_2) \dotsm \quantumField{O}_n(z_n)} + \lambda \correlator{\quantumField{B}_1 \quantumField{O}_2(z_1) \dotsm \quantumField{O}_n(z_n)}.
    \end{multline}
    
    By requiring that the correlators are functions \(\complex^n\setminus \Delta_n \to \complex\) we are requiring that they achieve finite values everywhere on \(\complex^n\setminus \Delta_n\).
    However, we can naturally extend the correlators to all of \(\complex^n\) by considering them as functions \(\complex^n \to \complex_{\infty}\) which are allowed to have singularities only at elements of \(\Delta_n\).
    The assumption that we have poles only at coincident points is called the \defineindex{locallity assumption}.
    Physically the idea is that the fields evaluated at different points can't interact with each other, but by evaluating the fields at the same point they can interact, and often do to produce divergent results.
    In a Euclidean QFT the result of this is that the local fields must be real analytic in a neighbourhood free of points in \(\Delta_n\).
    This means that they have a convergent power series on such neighbourhoods.
    It does not mean that they are \emph{complex} analytic, and so there is no general requirement that the local fields are in any way holomorphic or antiholomorphic.
    
    It is natural to require that as well as the fields \(\quantumField{O}_i\) being in \(W\) there are also fields \(\partial^m\overbar{\partial}^n\quantumField{O}_i\) in \(W\) which can reasonably be interpreted as the derivatives of the fields \(\quantumField{O}_i\).
    We don't define the derivative of a field, we simply require that the following holds:
    \begin{align}
        \correlator{\partial^m \overbar{\partial}^n \quantumField{O}_1(z_1) \dotsm \quantumField{O}_k(z_k)} &= \correlator{\partial_{z_1}^m \partial_{\overbar{z}_1}^n \quantumField{O}_1(z_1) \dotsm \quantumField{O}_k(z_k)}\\
        &= \partial_{z_1}^m \partial_{\overbar{z}_1}^n \correlator{\quantumField{O}_1(z_1) \dotsm \quantumField{O}_k(z_k)}.
    \end{align}
    Here the derivatives on the right are just normal derivatives of a complex function in \(z_1\) and \(\overbar{z}_1\).
    Note that this defines the derivative of any field, since by the symmetry of fields within the correlator we are always free to reorder the fields to get the one we're taking the derivative of at the front.
    
    \begin{ntn}{}{}
        Derivatives are assumed to have higher precedence than multiplication.
        Thus, \(\partial_xfg\) is always interpreted as \((\partial_xf)g\), rather than \(\partial_x(fg)\).
    \end{ntn}
    
    \section{Distributions}
    Now that we've got derivatives it's natural to consider integrals.
    Unfortunately, the singularities cause problems when it comes to defining integrals.
    The solution is to replace functions with distributions.
    
    \begin{dfn}{Distribution}{}
        Let \(X\) be a topological space, and \(U \subseteq X\) open.
        Let \(K(U)\) denote the set of all smooth functions \(f \colon U \to \complex\) with compact support (that is, the subset of \(U\) on which \(f(x) \ne 0\) is compact).
        We call \(K(U)\) the space of test functions, and \(f \in K(U)\) a \defineindex{test function}.
        There is a natural topology on \(K(U)\) called the canonical LF-topology.
        
        A \defineindex{distribution} is a continuous (with respect to the canonical LF-topology) linear functional \(F \in K(U)^*\), that is \(F \colon K(U) \to \complex\).
    \end{dfn}
    
    We are interested in the case \(X = \complex^n\), and we assume that test functions are defined on all of \(\complex^n\), but we'll only ask that they have properties locally.
    Given a test function, \(f \in K(\complex^n)\), and a distribution, \(\phi \in K(U)^*\), if \(f\) is locally integrable, meaning that
    \begin{equation}
        \int_U f(z) \dd^nz
    \end{equation}
    exists for open \(U \subseteq \complex^n\), then there is a canonical way to evaluate the action of the distribution on \(f\), namely
    \begin{equation}
        \innerproduct{\varphi}{f} = \int_U \varphi(z) f(z) \dd^nz.
    \end{equation}
    
    We assume that \(U\) is a region without boundary, or that at least \(f\) vanishes on the boundary of \(U\), which allows us to use integration by parts to show that
    \begin{equation}
        \innerproduct{\varphi}{\partial_\mu f} = \int_U \varphi(z) \partial_\mu f(z) \dd{^nz} = -\int_U (\partial_\mu \varphi(z)) f(z) \dd{^nz}
    \end{equation}
    where the boundary term,
    \begin{equation}
        \int_{\partial U} \varphi(z)f(z) \dd{A},
    \end{equation}
    vanishes for one of the above reasons.
    
    An alternative requirement to compact support for test functions is that test functions must decay to zero at infinity faster than any polynomial.
    This allows, for example, \(z \mapsto \e^{-\abs{z}^2}\), to be a test function, despite being everywhere non-zero.
    
    This is quite a formal way to do distributions, which we'll quickly abandon and start considering them to be functions-but-weird.
    The general rule is that whenever there's a distribution (usually a Dirac delta) it only really makes sense under an integral, even if we don't write the integral.
    So everywhere I write a Dirac delta just assume that it's under an appropriate integral.
    
    \section{Functional Integration}
    One way to produce correlation functions is through \defineindex{functional integration}, the integration of distributions.
    Physicists call these \define{path integrals}\index{path integral}, not to be confused with a contour integral, because when these integrals first arose in physics the domain of the functions was all possible paths between two points in space.
    
    We won't define path integrals properly, mostly because there isn't a consistent definition that works in all scenarios.
    Instead, we'll motivate them by analogy with normal integrals, then we'll treat them as formal objects that we can learn to manipulate in ways that mirror the properties of normal integrals (maybe you're already seeing the similarity to how we treat correlators).
    
    An ordinary integral looks like
    \begin{equation}
        \int_D f(x) \dd{^nx}
    \end{equation}
    where \(\manifold\) is some manifold, \(D \subseteq \manifold\) is a region of that manifold, \(f \colon D \to \complex\) is an integrable function, and \(\dl{^nx}\) is an appropriate measure, where we've already assumed that \(D\) can be covered by some coordinates\footnote{If this is not the case then we need to split \(D\) up into regions and be careful about where they overlap using partitions of unity.} \(x\).
    
    A functional integral looks like
    \begin{equation}
        \int_C F[\phi] \DD\phi
    \end{equation}
    where \(C\) is some set of functions \(\phi \colon \manifold \to \complex\) (with \(\manifold\) a manifold), \(F \colon C \to \complex\) is some functional, and \(\DL\phi\) is an appropriate (usually ill-defined) measure.
    
    \begin{exm}{}{}
        Consider the interval, \(I = [0, 1] \subseteq \reals\), and define
        \begin{equation}
            C(I) = \{\phi \mid I \to \reals \mid \phi \text{is continuous}\}.
        \end{equation}
        We can approximate any such function by a piecewise linear function, \(\phi_N \in P_N(I) \subset C(I)\), where \(P_N(I)\) is the set of all continuous functions which are linear on the intervals \([i/N, (i+1)/N]\) for \(i = 0, 1, \dotsc, N - 1\).
        The space \(C(I)\) is infinite dimensional, whereas the space \(P_N(I)\) is finite dimensional
        To specify an element of \(P_N(I)\) we need only specify \(N + 1\) real numbers, typically the endpoints of each line segment, which are \(\phi(0), \phi(1/N), \phi(2/N), \dotsc, \phi(1)\).
        Given a functional \(F \colon C(I) \to \reals\) we can define the functional integral as the \enquote{limit} of the integral over the \(N + 1\) dimensional space as we take \(N \to \infty\):
        \begin{equation}
            \int_{C(I)} F[\phi] \DD\phi = \lim_{N \to \infty} \int \dotsi \int F[\phi_N] \dd\phi(0) \dotsm \dl \varphi(1).
        \end{equation}
        Proving that this limit exists and is independent of the way we approximate the space \(C(I)\) by finite-dimensional subspaces is hard, and has only been done rigorously in a few cases.
    \end{exm}
    
    So, abandoning all hope of a rigorous definition of functional integrals we proceed to list some properties that we would like functional integrals to possess.
    The first is that, like normal integrals, functional integrals should be linear in the integrand.
    So, if \(F_1\) and \(F_2\) are functionals and \(\lambda \in \complex\) is a scalar then we require the following:
    \begin{equation}
        \int_C (F_1[\phi] + \lambda F_2[\phi]) \DL\phi = \int_C F_1[\phi] \DD\phi + \lambda \int_C F_2[\phi] \DD\phi.
    \end{equation}
    
    Now consider a normal integral over an unbounded region, or where the integrand vanishes on the boundary.
    Then by integration by parts we have
    \begin{equation}
        \int_D \diffp{f}{x} \dd{^nx} = \int_D 1 \cdot \diffp{f}{x} \dd{^nx} = - \int_D \diffp{1}{x} f(x) \dd{^nx} = 0.
    \end{equation}
    We therefore demand the equivalent result for functional integrals, namely
    \begin{equation}
        \int_C \diffd{F}{\phi(x)} \DD\phi = 0.
    \end{equation}
    Of course, we need to define the \defineindex{functional derivative}, \(\difsd{F}{\phi(X)}\).
    This can be done formally as a limit, but again, we just look at the properties it has, including linearity,
    \begin{equation}
        \diffd{(F_1 + \lambda F_2)}{\phi(x)} = \diffd{F_1}{\phi(x)} + \lambda \diffd{F_2}{\phi(x)},
    \end{equation}
    and the product rule,
    \begin{equation}
        \diffd{F_1F_2}{\phi(x)} = \diffd{F_1}{\phi(x)} F_2[\phi] + F_1[\varphi] \diffd{F_2}{\phi(x)}.
    \end{equation}
    Another important property is the functional version of
    \begin{equation}
        \diffp{x^i}{x^j} = \tensor{\delta}{^i_j},
    \end{equation}
    which is
    \begin{equation}
        \diffd{\varphi(x)}{\varphi(y)} = \delta(x - y).
    \end{equation}
    
    The final property that we assume for functional integrals is invariance under a suitable change of variables.
    We'll go into more detail on how this is done later.
    
    \section{Path Integrals}
    In this section we will look at how QFT uses functional integrals (which I'll call path integrals in this context).
    We assume the simplest case, which is that there's only one field, \(\phi\), and it is a scalar field.
    This means that the corresponding particle will have zero spin.
    We won't worry about what this means, and in later sections we'll introduce other types of field which do have spin.
    
    Looking at the properties that correlators and functional integrals possess we see that they match, and so it makes sense to define the correlators to be the result of evaluating specific path integrals.
    Specifically, we can define the \(n\)-point correlator by\footnote{We work in Euclidean spacetime. In Minkowski spacetime the exponent is \(iS[\phi]\). Also, we're working in units where \(\hbar = 1\), else we'd need a \(1/\hbar\) in the exponent to give us a dimensionless quantity, with \(\hbar = 1\) the action is dimensionless.}
    \begin{equation}
        \correlator{\phi(z_1) \dotsm \phi(z_n)} = \frac{1}{Z} \int_C \e^{-S[\phi]} \phi(z_1) \dotsb \phi(z_n) \DD\phi.
    \end{equation}
    Here \(\phi \in W\) is just a particular field, called the \defineindex{fundamental field}.
    We will assume that most of our fields are built out of \(\phi\) and its derivatives.
    In this \(Z\) is the \defineindex{partition functional}, defined as
    \begin{equation}
        Z = \int_C \e^{-S[\phi]} \DD\phi.
    \end{equation}
    It is just a normalisation factor.
    In these we have the \defineindex{action functional}, \(S\), which is usually defined via an integral
    \begin{equation}
        S[\phi] = \int_D \lagrangian(\phi, \partial_\mu \varphi, t) \dd{t}\dd{^nx}
    \end{equation}
    where we're working in \((n + 1)\)-dimensional spacetime.
    The function \(\lagrangian\) is called the \defineindex{Lagrangian} (or more properly, the Lagrangian density as we integrate it over time and space).
    Most QFT theories are specified by defining the Lagrangian.
    The simplest case is a the Lagrangian corresponding to a free scalar massless boson.
    Breaking this down:
    \begin{itemize}
        \item free means that there are no interactions between particles, which in QFT means that the Lagrangian doesn't have any terms higher than second order in \(\phi\);
        \item scalar boson means that the particle has spin zero, and the corresponding field is just scalar valued (as opposed to a spinor or vector valued field, which we'll see later);
        \item massless means that the particle has no mass, which in QFT means that the Lagrangian has no \(\phi^2\) term.
    \end{itemize}
    The Lagrangian is then
    \begin{equation}
        \lagrangian = \frac{1}{8\pi}\partial_\mu \varphi \partial^\mu \varphi.
    \end{equation}
    The single term here is called the kinetic term, and it controls how the particle moves through spacetime.
    The factor of \(1/(8\pi)\) is included here because it will be nice later.
    A more standard choice is just a factor of \(1/2\).
    The action functional is then
    \begin{equation}
        S_{\freeboson}[\phi] = \frac{1}{8\pi} \int_C \partial_\mu \varphi \partial^\mu \varphi \dd{^2x}.
    \end{equation}
    Here we assume that we're working in two dimensional spacetime.
    
    At this point we note that taking a product of composite fields, such as \(\varphi(z)\varphi(z)\), is often going to lead to divergences in our correlators, because here we have two fields evaluated at the same point.
    The usual way we get around this is to consider such a product as short-hand for
    \begin{equation}
        \lim_{\varepsilon \to 0} \varphi(z)\varphi(z + \varepsilon),
    \end{equation}
    or something similar which prevents these coincident evaluation points, and then only take the limit when it is safe to do so.
    Sometimes we still get infinities this way, but physics has a whole system for subtracting these off in a consistent way called \defineindex{renormalisation}.
    In physics it's common to take \(\varphi(x)\varphi(x + i\varepsilon)\), with an extra factor of \(i\), because the poles we're usually wanting to avoid are on the real axis. and so this is often called the \define{\(\symbf{i\varepsilon}\) prescription}\index{ie prescription@\(i\varepsilon\) prescription}.
    
    It should also be noted that we can take many fundamental fields, for example, if we have \(n\) fundamental fields, \(\phi_1, \dotsc, \phi_n\), with \(\phi_i \in C_i\) then we may define the correlator of \(n\) fields as
    \begin{equation*}
        \correlator{\phi_1(z_1) \dotsm \phi_n(z_n)} = \frac{1}{Z}\int_{C_1 \otimes \dotsb \otimes C_n} \e^{-S[\phi_1, \dotsc, \phi_n]} \phi_1(z_1) \dotsm \phi_n(z_n) \DD\phi_1 \dotsm \DD\phi_n
    \end{equation*}
    where
    \begin{equation}
        Z = \correlator{\phi_1(z_1) \dotsm \phi_n(z_n)} = \frac{1}{Z}\int_{C_1 \otimes \dotsb \otimes C_n} \e^{-S[\phi_1, \dotsc, \phi_n]} \DD\phi_1 \dotsm \DD\phi_n.
    \end{equation}
    
    \subsection{Computing Correlators for the Free Boson}
    In this section we'll look at how, despite the fact that the path integrals aren't really defined, we can still use them to evaluate the correlators.
    We'll do this for the free massless scalar boson, which has the action functional\footnote{We start to use the physics convention where the measure is put before the integrand. This assumes that integration binds less tightly than multiplication but more tightly than addition, so \(\int \dl{x} \, fg = \int \dl{x} \, (fg) = \int fg \dd{x}\) and \(\int \dl{x} \, f + g = \left( \int \dl{x} \, f \right) + g = \int f \dd{x} + g = g + \int f \dd{x}\).}
    \begin{equation}
        S_{\freeboson}[\phi] = \frac{1}{8\pi} \int_C \dl{^2x} \, \partial_\mu \varphi \partial^\mu \varphi.
    \end{equation}
    
    \subsubsection{Odd Correlators}
    One important property that this has is that the integrand (which is the Lagrangian) is invariant under the map
    \begin{equation}
        \phi(x) \mapsto -\phi(x).
    \end{equation}
    In fact, we actually have a full-blown \(\unitary(1)\) symmetry
    \begin{equation}
        \phi(x) \mapsto \e^{i\alpha}\phi(x), \quad \alpha \in [0, 2\pi),
    \end{equation}
    but this is more than we need right now.
    This symmetry is important because it means that if the measure, \(\DL{\varphi}\), is also invariant under this mapping then we have
    \begin{equation}
        \correlator{\phi(z_1) \dotsm \phi(z_n)} \mapsto (-1)^n \correlator{\phi(z_1) \dotsm \phi(z_n)}
    \end{equation}
    which tells us that if \(n\) is odd then the \(n\)-point correlator must vanish.
    
    Physically, what this tells us is that there are no \(n\)-point interactions for \(n\) odd.
    An \(n\)-point interaction (in a general QFT) being some particles coming in, interacting, and some (possibly different) particles going out, such that the total number of particles going in plus the total number of particles going out is \(n\).
    The reason that there cannot be \(n\)-point interactions (\(n\) odd) for the free boson is that there are no interactions, and so it is not possible to create or destroy particles, and as such the particles going into an interaction (in which nothing can happen, because we've got free particles) must be the same particles that go out, so if we have \(k\) particles coming in we have \(k\) going out, so we have a \(2k\)-point interaction.
    
    \subsubsection{2-Point Correlators}
    Now we can use another property of functional integrals, the integral of a derivative vanishes, which tells us that
    \begin{equation}
        \label{eqn:free boson 2-correlator step 1}
        \int \diffd{}{\phi(x)} \left( \e^{-S_{\freeboson}[\phi]}\phi(y) \right) \DL\phi = 0.
    \end{equation}
    Now, we can use the product rule, chain rule, and Dirac delta properties to take the derivative and we find that
    \begin{align}
        \diffd{}{\phi(x)} \left( \e^{-S_{\freeboson}[\phi]} \phi(y) \right) &= \left( \diffd{}{\phi(x)} \e^{-S_{\freeboson}[\phi]} \right) \phi(y) + \e^{-S_{\freeboson}[\phi]} \diffd{\phi(y)}{\phi(x)}\\
        &= -\diffd{S[\phi]}{\phi(x)} \e^{-S_{\freeboson}[\phi]} \phi(y) + \e^{-S_{\freeboson}[\phi]} \delta(x - y).
    \end{align}
    Of course, we're assuming that functional derivatives of exponentials work just as they do for normal derivatives, and this is indeed the case.
    Now all we have to do is compute the derivative of \(S_{\freeboson}[\phi]\):
    \begin{equation}
        \diffd{}{\phi(x)} S_{\freeboson}[\phi] = \diffd{}{\phi(x)} \frac{1}{8\pi} \int \dl{^2\tilde{x}} \, \partial_\mu^{\tilde{x}} \phi(\tilde{x}) \partial^\mu_{\tilde{x}} \phi(\tilde{x}).
    \end{equation}
    Here we're introducing \(\tilde{x}\) as a dummy variable distinct from \(x\).
    The first step is to assume that the integral and the functional derivative commute, giving us
    \begin{equation}
        \diffd{}{\phi(x)} S_{\freeboson}[\phi] = \frac{1}{8\pi} \int \dl^2\tilde{x} \, \diffd{}{\phi(x)} [\partial_\mu^{\tilde{x}} \phi(\tilde{x}) \partial^\mu_{\tilde{x}} \phi(\tilde{x})].
    \end{equation}
    Next we apply the chain rule to get
    \begin{equation}
        \diffd{}{\phi(x)} S_{\freeboson}[\phi] = \frac{1}{8\pi} \int \dl^2\tilde{x} \, \left[ \diffd{\partial_\mu^{\tilde{x}} \phi(\tilde{x})}{\phi(x)} \partial^\mu_{\tilde{x}}\phi(\tilde{x}) + \partial_\mu^{\tilde{x}}\phi(\tilde{x}) \diffd{\partial^\mu_{\tilde{x}}\phi(\tilde{x})}{\phi(x)} \right].
    \end{equation}
    Now we assume that the partial derivatives commute with the functional derivative, so we have
    \begin{equation}
        \diffd{}{\phi(x)} S_{\freeboson}[\phi] = \frac{1}{8\pi} \int \dl^2\tilde{x} \, \left[ \left( \partial_\mu^{\tilde{x}} \diffd{\phi(\tilde{x})}{\phi(x)} \right) \partial^\mu_{\tilde{x}}\phi(\tilde{x}) + \partial_\mu^{\tilde{x}}\phi(\tilde{x}) \left(\partial^\mu_{\tilde{x}} \diffd{\phi(\tilde{x})}{\phi(x)} \right) \right].
    \end{equation}
    Now, we the derivatives \(\difsd{\phi(\tilde{x})}{\phi(x)}\) give Dirac deltas, \(\delta(\tilde{x} - x)\), and we can't really take the derivative of these.
    Instead, we use integration by parts to move the derivative onto the other term at the cost of a minus sign, giving
    \begin{align}
        \diffd{}{\phi(x)} S_{\freeboson}[\phi] &= -\frac{1}{8\pi} \int \dl^2\tilde{x} \, \left[ \diffd{\phi(\tilde{x})}{\phi(x)} \partial_\mu^{\tilde{x}}\partial^\mu_{\tilde{x}}\phi(\tilde{x}) + \partial^\mu_{\tilde{x}} \partial_\mu^{\tilde{x}} \phi(\tilde{x})  \diffd{\phi(\tilde{x})}{\phi(x)} \right]\\
        &= -\frac{1}{8\pi} \int \dl^2\tilde{x} \, \left[ \delta(\tilde{x} - x) \partial_\mu^{\tilde{x}}\partial^\mu_{\tilde{x}}\phi(\tilde{x}) + \partial^\mu_{\tilde{x}} \partial_\mu^{\tilde{x}} \phi(\tilde{x}) \delta(\tilde{x} - x) \right] \notag\\
        &= -\frac{1}{8\pi} (\partial_\mu^{x}\partial^\mu_{x}\phi(x) + \partial^\mu_{x} \partial_\mu^{x} \phi(x))\\
        &= -\frac{1}{8\pi} (\partial_\mu^{x}\partial^\mu_{x}\phi(x) + \partial_\mu^{x} \partial^\mu_{x} \phi(x))\\
        &= -\frac{1}{4\pi} \partial_\mu^x\partial^\mu_x\phi(x).
    \end{align}
    
    Using this work to compute the derivative in \cref{eqn:free boson 2-correlator step 1} we get
    \begin{equation}
        0 = \int \DL\phi \left( \frac{1}{4\pi} \phi(y) \partial_\mu^x\partial^\mu_x\phi(x) + \delta(x - y) \right) \e^{-S_{\freeboson}[\phi]}.
    \end{equation}
    This tells us that
    \begin{equation}
        \int \DL\phi \,\phi(y) \partial_\mu^x\partial^\mu_x\phi(x) \e^{-S_{\freeboson}[\phi]} = -4\pi \int \DL\phi \, \delta(x - y) \e^{-S_{\freeboson}[\phi]}.
    \end{equation}
    We can write this a bit more compactly by pulling the \(\delta(x - y)\) out of the integral, which is valid as \(\delta(x - y)\) doesn't depend on \(\phi\).
    Of course, a Dirac delta on its own doesn't make sense, so the following result only holds when we're within the integrand of some integral over \(x\) or \(y\):
    \begin{equation}
        \int \DL\phi \, \phi(y) \partial_\mu^x \partial^\mu_x\phi(x) \e^{-S_{\freeboson}[\phi]} = -4\pi \delta(x - y) \int \DL\phi \, \e^{-S_{\freeboson}[\phi]} = -4\pi\delta(x - y) Z
    \end{equation}
    where \(Z\) is the partition functional.
    If we once again assume that the integral commutes with the derivatives then we can write the left-hand side as
    \begin{multline}
        \int \DL\phi \, \phi(y) \partial_\mu^x \partial^\mu_x \phi(x) \e^{-S_{\freeboson}[\phi]}\\
        = \partial_\mu^x \partial^\mu_x \int \DL\phi \, \phi(y)\phi(x) \e^{-S_{\freeboson[\phi]}} = \partial_\mu^x\partial^\mu_x \correlator{\phi(x)\phi(y)}.
    \end{multline}
    Thus, we're left with the equality (under an integral)
    \begin{equation}\label{eqn:correlator as greens function}
        \partial_\mu^x\partial^\mu_x\correlator{\phi(x)\phi(y)} = -4\pi\delta(x - y).
    \end{equation}
    Writing \(G(x, y) = \correlator{\phi(x)\phi(y)}\) and writing out the derivatives in more detail this becomes
    \begin{equation}
        \left( \diffp[2]{}{x^1} + \diffp[2]{}{x^2} \right) G(x, y) = -4\pi\delta(x - y).
    \end{equation}
    We therefore see that \(G\) is (up to some arbitrary choice of an overall constant factor) the Green's function for Laplace's equation
    \begin{equation}
        \laplacian f = 0
    \end{equation}
    in two dimensional Euclidean spacetime.
    
    \begin{remark}{}{}
        It is a general fact in QFT that the two-point correlators are Green's functions for the differential operator, \(D\), appearing in the kinetic and mass terms when we write these two terms as \(\phi D \phi\).
        One of the first examples of this in most QFT courses is given (in Minkowski space) by adding a mass term, \(-m^2\phi^2/2\), to the Lagrangian.
        The resulting two-point correlator of the massive free scalar boson is the Green's function of the Klein--Gordon operator \(\dalembertian + m^2\), where\footnote{This operator, called the d'Alembert operator or d'Alembertian, is also written as \(\square\), and, confusingly, \(\square^2\) (in analogy with \(\laplacian\)).} \(\dalembertian = \partial^\mu \partial_\mu\) is the Laplacian operator in Minkowski space.
        The example we have here is the two-dimensional Euclidean version of this in the \(m = 0\) case.
    \end{remark}
    
    The reason that this is useful is that we\footnote{well, someone's worked it out} know what the Green's function for Laplace's equation in two-dimensions is, and so we know what the 2-point correlator is, it's
    \begin{equation}
        \correlator{\phi(x)\phi(y)} = -\ln((x^1 - y^1)^2 + (x^2 - y^2)^2) = -2\ln(\abs{x - y})^2,
    \end{equation}
    or, in complex coordinates \(z_1 = x^1 + ix^2\) and \(z_2 = y^1 + iy^2\),
    \begin{equation}
        \label{eqn:free boson 2-point correlator}
        \correlator{\phi(z_1)\phi(z_2)} = -\ln(\abs{z_1 - z_2}^2).
    \end{equation}
    
    We can check, with a bit of work, that this is indeed a solution to \cref{eqn:correlator as greens function} by integrating \cref{eqn:correlator as greens function} using Stoke's theorem.
    This is easiest to do in complex coordinates.
    To do this we'll need to use
    \begin{equation}
        \partial_\mu \partial^\mu = 4\partial_z \partial_{\overbar{z}}
    \end{equation}
    which follows from the fact that in complex coordinates the inverse metric is
    \begin{equation}
        g^{\mu\nu} = 
        \begin{pmatrix}
            0 & 2\\
            2 & 0
        \end{pmatrix}
    \end{equation}
    so
    \begin{align}
        \partial_\mu \partial^\mu &= g^{\mu\nu} \partial_\mu \partial_\nu\\
        &= g^{zz} \partial_z \partial_z + g^{z\overbar{z}} \partial_z \partial_{\overbar{z}} + g^{\overbar{z}z} \partial_{\overbar{z}} \partial_z + g^{\overbar{z}\overbar{z}} \partial_{\overbar{z}} \partial_{\overbar{z}}\\
        &= 2\partial_z \partial_{\overbar{z}} + 2\partial_{\overbar{z}} \partial_z\\
        &= 4\partial_z \partial_{\overbar{z}}.
    \end{align}
    Using this we can write \cref{eqn:correlator as greens function} as
    \begin{equation}
        \label{eqn:correlator as greens function complex coordinates}
        \partial_{z_1} \partial_{\overbar{z}_1} \correlator{\phi(z_1)\phi(z_2)} = -\pi\delta(z_1 - z_2).
    \end{equation}
    Stoke's theorem in complex coordinates is
    \begin{equation}
        \iint_D \partial_{\overbar{z}} F(z, \overbar{z}) \dd{^2z} = -\frac{i}{2} \oint_{\partial D} F(z, \overbar{z}) \dd{z}.
    \end{equation}
    The contour integral is along the boundary of \(D\) and oriented anticlockwise.
    Taking a region \(D\) containing \(z_2\) we can integrate the left hand side of \cref{eqn:correlator as greens function complex coordinates} to get
    \begin{equation}
        \iint_D \partial_{\overbar{z}_1} \partial_{z_1} \correlator{\phi(z_1)\phi(z_2)} \dd{z_1} = -\frac{i}{2}\oint_{\partial D} \partial_{z_1} \correlator{\phi(z_1)\phi(z_2)} \dd{z_1}
    \end{equation}
    and on the right we can use the Dirac delta to simply get
    \begin{equation}
        -\pi \iint_D \delta(z_1 - z_2) \dd{^2z_1} = -\pi.
    \end{equation}
    Thus, we have
    \begin{equation}
        \frac{i}{2}\oint_{\partial D} \partial_{z_1} \correlator{\phi(z_1)\phi(z_2)} \dd{z_1} = \pi.
    \end{equation}
    Now we can substitute in \cref{eqn:free boson 2-point correlator} and we have
    \begin{equation}
        \partial_{z_1} \correlator{\phi(z_1)\phi(z_2)} = - \partial_{z_1} \ln(\abs{z_1 - z_2}^2) = -\frac{2}{z_1 - z_2}
    \end{equation}
    and so we have
    \begin{equation}
        -i \oint_{\partial D} \frac{1}{z_1 - z_2} \dd{z_1} = \pi.
    \end{equation}
    This is true by Cauchy's integral formula,
    \begin{equation}
        f(a) = \frac{1}{2\pi i} \oint_{\partial D} \frac{f(z_1)}{z_1 - z_2} \dd{z_1}
    \end{equation}
    for \(f(z) = 1\).
    
    \subsubsection{4-Point Correlators}
    We can compute 4-point correlation functions now, but we won't because the 2-point correlator took long enough.
    We start again with the integral of a derivative vanishing:
    \begin{equation}
        \int \diffd{}{\phi(z_1)} (\e^{-S_{\freeboson}[\phi]} \phi(z_2) \phi(z_3) \phi(z_4)) \DD\phi = 0.
    \end{equation}
    We then compute the derivative and go through the same steps as for the 2-point correlator and we find that
    \begin{align}
        \partial_\mu^{z_1} \partial^\mu_{z_1} \correlator{\phi(z_1)\phi(z_2)\phi(z_3)\phi(z_4)} &= -\pi \delta(z_1 - z_2) \correlator{\phi(z_3)\phi(z_4)}\\
        &- \pi \delta(z_1 - z_3) \correlator{\phi(z_2)\phi(z_4)}\\
        &- \pi \delta(z_1 - z_4) \correlator{\phi(z_2)\phi(z_3)}.
    \end{align}
    This, and equations like it, are called either
    \begin{itemize}
        \item \define{Schwinger--Dyson equations}\index{Schwinger--Dyson equation}; or
        \item \define{quantum equations of motion}\index{quantum equation of motion}.
    \end{itemize}
    The second comes from identifying that the classical equations of motion, as one would find from the Euler--Lagrange equations, which come from requiring that \(\delta S[\phi] = 0\), are in this case just the usual Laplace equation, \(\partial_z \partial_{\overbar{z}} \phi = 0\).
    The quantum equations of motion then agree with this (replacing the field with the correlator) at all points, except where we have two coincident field evaluations in the correlator, where we instead get Dirac deltas.
    These are called \define{contact terms}\index{contact term}, and the physical intuition is that these infinities arise because we're trying to put two particles in the same place, allowing them to interfere with each other.
    
    We can substitute in the known 2-point correlators and we get
    \begin{align}
        \partial_\mu^{z_1}\partial^\mu_{z_1} \correlator{\phi(z_1)\phi(z_2)\phi(z_3)\phi(z_4)} &= \ln(\abs{z_1 - z_2}^2)\ln(\abs{z_3 - z_4}^2)\\
        &+ \ln(\abs{z_1 - z_3}^2)\ln(\abs{z_2 - z_4}^2)\\
        &+ \ln(\abs{z_1 - z_4}^2)\ln(\abs{z_2 - z_3}^2).
    \end{align}
    
    In general if we choose a more complicated theory, in particular one with interactions, the Schwinger--Dyson equations will not be solvable.
    
    \subsubsection{Wick's Theorem}
    This process generalises to \(n\)-point correlators for any even \(n\), and we find that we have the following general result.
    
    \begin{thm}{Wick's Theorem For A Free Massless Scalar Boson}{}
        The \(n\)-point correlator of a free massles scalar boson field is either 0, if \(n\) is odd, or
        \begin{equation*}
            \correlator{\phi(z_1) \dotsm \phi(z_{2k})} = \sum_{\mathclap{\text{pairs } (i_\ell, j_{\ell})}} (-1)^k \ln(\abs{z_{i_1} - z_{j_1}}) \ln(\abs{z_{i_2} - z_{j_2}}) \dotsm \ln(\abs{z_{i_k} - z_{j_k}})
        \end{equation*}
        if \(n = 2k\) is even.
        The sum here is taken over ways of partitioning the indices \(\{1, \dotsc, 2k\}\) into pairs of indices with no repeated indices.
        We consider two partitions into pairs to be the same if they differ only by the order of the pairs or the order of the two indices within a pair.
    \end{thm}
    
    To demonstrate what we mean by the pairs thing in the \(n = 2\) case we simply have a single pair, \((1, 2)\), and in the \(n = 4\) case the sum has three terms, corresponding to the pairs \((1, 2)(3, 4)\), \((1, 3)(2, 4)\), and \((1, 4)(2, 3)\).
    We do not consider \((1, 2)(4, 3)\), because this is the same as \((1, 2)(3, 4)\), and we do not consider \((3, 4)(1, 2)\), because this is the same as \((1, 2)(3, 4)\).
    
    \begin{remark}{Wick Contractions and Generalisations}{}
        Noting that the logarithms here are just 2-point correlators and writing
        \begin{equation}
            \wick{\c{\phi}(z_1)\c{\phi}(z_2)} = \correlator{\phi(z_1)\phi(z_2)},
        \end{equation}
        which we call a \defineindex{Wick contraction}, it is common to write these results using this notation, for example if \(n = 4\) we write
        \begin{align}
            \correlator{\phi(z_1) \dotsm \phi(z_{4})} &= \wick{\c{\phi}(z_1)\c{\phi}(z_2)\c{\phi}(z_3)\c{\phi}(z_4)}\\
            &+ \wick{\c1{\phi}(z_1)\c2{\phi}(z_2)\c1{\phi}(z_3)\c2{\phi}(z_4)}\\
            &+ \wick{\c2{\phi}(z_1)\c1{\phi}(z_2)\c1{\phi}(z_3)\c2{\phi}(z_4)}
        \end{align}
        
        It should be noted that in the full generalisation of Wick's theorem for a non-free field there is no reason that the odd correlators should vanish.
        Instead, the odd correlators typically have some product of contracted fields, and some non-contracted fields.
        For a fully general result of \(n = 2k\) or \(n = 2k + 1\) interacting fields we have to sum over all terms with \(2\ell\) contracted fields where \(\ell = 1, \dotsc, k\).
        Because this leaves us with other fields we also have to normal order the non-contracted fields.
        This also assumes that the original fields are time ordered.
        
        In Feynman diagrams the contracted fields correspond to propagators between the points of evaluation.
        Uncontracted fields correspond to vertices.
        So in the free theory since all fields are contracted there are no vertices, which makes sense because the vertices are interactions, and all of the particles just propagate from start to end.
        The reason that we end up with multiple terms is that the particles are indistinguishable, so in the \(n = 4\) case if we assume that 1 and 2 refer to the incoming particles and 3 and 4 the outgoing particles we can't tell which of the three following diagrams in \cref{fig:swapping bosons} actually corresponds to what is actually happening.
        
        (Obligatory \enquote{in QFT Feynman diagrams aren't real, the particles aren't real, and they aren't really following nice paths on the page, instead the Feynman diagrams correspond to integrals in a big series expansion for the scattering matrix and shouldn't be interpreted physically}. Despite this everyone does think of the Feynman diagrams as physical, after all, the fields aren't really any more \enquote{real} than the particles are.)
    \end{remark}
    
    \begin{figure}
        \tikzsetnextfilename{swapping-bosons}
        \begin{tikzpicture}
            \draw [thick] (0, 6) arc (-90:90:1);
            \draw [thick] (3, 6) arc (270:90:1);
            \draw [thick] (0, 3) -- ++ (3, 0);
            \draw [thick] (0, 5) -- ++ (3, 0);
            \draw [thick] (0, 2) -- ++ (3, -2);
            \draw [line width=2mm, white] (0, 0) -- ++ (3, 2);
            \draw [thick] (0, 0) -- ++ (3, 2);
        \end{tikzpicture}
        \caption{The three ways to have two particles enter on the left and two particles leave on the right (to first order, we can have weird loops at higher order, but higher orders are hard and (usually) less relevant than first order). This corresponds to the three different ways to contract four fields.}
        \label{fig:swapping bosons}
    \end{figure}
    
    Despite having spent all of this time on functional integrals they turn out not to be that useful in CFT.
    Instead we will work with the correlation functions directly.
    We will impose upon them conditions that arise from demanding a conformal symmetry.
    This, plus a few more assumptions on which local fields appear, allows us to solve these the Schwinger--Dyson equations to obtain correlation functions.
    
    
    \section{Continuous Symmetries}
    A continuous symmetry in QFT is given by taking \(W\), the space of fields, to be a representation of some Lie group such that the action functional, \(S\), is invariant under this action.
    Since we have a Lie group the natural thing to do is consider the Lie algebra, and look at infinitesimal transformations.
    Suppose that we have \(m\) fundamental fields, \(\phi_1, \dotsc, \phi_m\), upon which our action functional depends.
    Then an infinitesimal transformation of these fields is a map
    \begin{equation}
        \phi_i(x) \mapsto \phi_i(x) + \omega^a \delta_a\phi_i(x).
    \end{equation}
    Here \(\omega^a \in \reals\) are some parameters (assuming a real Lie group, \(\complex\) for a complex Lie group), and we shall typically assume these parameters to be \enquote{small}, in the way that physicists do, meaning that anything of second order in \(\omega^a\) is negligible.
    The \(\delta_a \phi_i(x)\) are some other fields which may depend on \(i\) or \(x\).
    If \(\delta_a \phi_i(x)\) is independent of \(x\) and \(i\), so it's just a constant, then we call this a \defineindex{global symmetry}.
    Note that this is a different use of \enquote{global} to that in global conformal symmetry, which simply means that it's defined everywhere.
    If \(\delta_a \phi_i(x)\) depends on \(x\) then it is called a \defineindex{local symmetry}.
    Finally, if \(\delta_a \phi_i(x)\) depends on \(i\) then it is called an internal symmetry.
    
    The change in the action functional under an arbitrary infinitesimal transformation is
    \begin{equation}
        \delta S = \int \dl{^2x} \omega^a \delta_a \phi_i(x) \diffd{S}{\phi_i(x)}.
    \end{equation}
    The infinitesimal transformation is a symmetry (by which we mean it exponentiates to a symmetry) if and only if \(\delta S = 0\).
    
    \begin{exm}{}{exm:translation symmetry}
        Consider the free massless scalar boson with action functional
        \begin{equation}
            S_{\freeboson}[\phi] = \frac{1}{8\pi}\int \dl{^2x} \partial_\mu \phi \partial^\mu \phi.
        \end{equation}
        This is invariant under a translation
        \begin{equation}
            \phi(x) \mapsto \phi(x + \omega)
        \end{equation}
        for some constant \(\omega \in \reals^2\) (working in 2-dimensional Euclidean space).
        The infinitesimal version of this is
        \begin{equation}
            \phi(x) \mapsto \phi(x) + \omega^\mu \partial_\mu \phi(x).
        \end{equation}
        This follows by Taylor expanding,
        \begin{equation}
            \phi(x + \omega) = \phi(x) + \omega^\mu \partial_\mu \phi(x) + \order(\omega^2),
        \end{equation}
        and truncating after the first order term.
        To see that this is a symmetry we can compute the variation in the action:
        \begin{align}
            \delta S_{\freeboson} &= \frac{1}{8\pi}\int \dl^2x \, \omega^\mu \partial_\mu \phi(x) \diffd{S}{\phi(x)}\\
            &= -\frac{1}{4\pi} \int \dl^2x \, \omega^\mu \partial_\mu \phi(x) \partial_\nu \partial^\nu \phi(x)\\
            &= \frac{1}{4\pi} \int \dl^2x \, \omega^\mu \partial_\mu \partial_\nu \phi(x) \partial^\nu \phi(x)\\
            &= \frac{1}{8\pi} \omega^\mu \int \dl^2x \, \partial_\mu (\partial_\nu \phi(x) \partial^\nu \phi(x))\\
            &= 0.
         \end{align}
         The second line follows by similar calculations to the 2-point correlator after \cref{eqn:free boson 2-correlator step 1}.
         The next line is integration by parts to move one of the derivatives across.
         The line after that is just the product rule,
         \begin{align}
             \partial_\mu(\partial_\nu \phi \partial^\nu \phi) &= \partial_\mu \partial_\nu \phi \partial^\nu \phi + \partial_\nu \phi \partial_\mu \partial^\nu\phi\\
             &= \partial_\mu \partial_\nu \phi \partial^\nu \phi + \partial^\nu \phi \partial_\mu \partial^\nu\phi\\
             &= 2\partial_\mu \partial_\nu \phi \partial^\nu \phi,
         \end{align}
         and finally the whole expression is zero because it's the integral of a total derivative, and this vanishes by integration by parts with a constant function and vanishing on the boundary.
    \end{exm}
    
    \begin{exm}{}{exm:rotational symmetry}
        Consider the action functional for three free massless scalar boson fields
        \begin{equation}
            S_{\freeboson}^{(3)}[\phi_1, \phi_2, \phi_3] = \frac{1}{8\pi} \int \dl{^2x} \, \partial_\mu \phi_a \partial^\mu \phi_a.
        \end{equation}
        We sum over both \(\mu = 1, 2\) and \(a = 1, 2, 3\) here.
        This is invariant under the mapping
        \begin{equation}
            \phi_a(x) \mapsto M_{ab}\phi_b(x)
        \end{equation}
        for \(M \in \orthogonal(3)\).
        To see this write the three fields as a vector
        \begin{equation}
            \phi = 
            \begin{pmatrix}
                \phi_1\\ \phi_2\\ \phi_3
            \end{pmatrix}
        \end{equation}
        and then the action functional becomes
        \begin{equation}
            S_{\freeboson}^{(3)}[\phi_1, \phi_2, \phi_3] = \frac{1}{8\pi} \int \dl{^2x} \, (\partial_\mu \phi) \cdot (\partial^\mu \phi)
        \end{equation}
        where the dot product is exactly what you'd expect:
        \begin{equation}
            \Phi \cdot \Phi = \Phi_1^2 + \Phi_2^2 + \Phi_3^2 \quad \text{for} \quad \Phi = (\Phi_1, \Phi_2, \Phi_3).
        \end{equation}
        The action functional is clearly invariant under \(\phi \mapsto M\phi\) since by definition \(M\Phi \cdot M\Phi = \Phi \cdot \Phi\) for \(M \in \orthogonal(3)\), and this holds for the derivative terms also.
        It is then natural to think of \(M\) as rotating the fields into each other, since after acting with \(M\) the first component of \(\phi\) will generally depend on \(\phi_1\), \(\phi_2\), and \(\phi_3\).
        In fact, it's common to think of all symmetries of the form \(\phi \mapsto U \phi\) for \(U\) in some matrix Lie group as \enquote{rotating} the fields into each other.
        
        Note that this only works if \(M\) is constant (i.e., a global symmetry), if \(M\) depends on \(x\) then the derivative terms get messed up.
        There is a canonical way to fix this, we replace the derivatives \(\partial_\mu\) with \enquote{gauge covariant derivatives} \(D_\mu = \partial_\mu - \alpha A_\mu\) for some constant\footnote{constant with respect to spacetime, it turns out that \(\alpha\) is generally not constant with respect to the energy of the interaction, this is known as running of the gauge coupling, and is one of the weird things about QFT. It leads to cool sounding things like \enquote{asymptotic freedom} in QCD.} \(\alpha\) and some vector field \(A_\mu\), which is chosen to also transform in such a way that the extra terms arising from the derivatives of \(M(x)\) perfectly cancel with the extra terms arising from \(A_\mu\)'s transformation.
        In this case this requires that \(A_\mu\) transforms as \(A_\mu(x) \mapsto A_\mu(x) + \alpha^{-1}\partial_\mu M(x)\).
        
        The infinitesimal version of this transformation is
        \begin{equation}
            \phi_a(x) \mapsto \phi_a(x) + M_{ab}\phi_b(x) = \phi_a(x) + \omega^b \varepsilon_{abc} \phi_c(x)
        \end{equation}
        where \(M_{ab} \in \specialOrthogonalLie(3)\) and \(\varepsilon_{abc}\) is the Levi-Civita totally antisymmetric 3-nr defined by \(\varepsilon_{123} = 1\).
        The equality follows from the fact that \(\varepsilon_{abc}\) are the structure constants of the \(\orthogonalLie(3)\) Lie algebra, which consists of antisymmetric \(3 \times 3\) real matrices.
        Fixing \(b\) we can think of \(\varepsilon_{abc}\) as a \(3 \times 3\) matrix with components \(A_{ac} = \varepsilon_{abc}\), and these matrices form a basis for \(\orthogonalLie(3)\), so \(\omega^b\varepsilon_{abc}\) is just an arbitrary element of \(\orthogonalLie(3)\) expressed in this basis.
        
        We can see that this is a symmetry by computing \(\delta S_{\freeboson}^{(3)}\):
        \begin{align}
            \delta S_{\freeboson}^{(3)} &= - \frac{1}{4\pi} \int \dl{^2x} \, \varepsilon_{abc} \omega^b \phi_c(x) \partial_\nu \partial^\nu \phi_a(x)\\
            &= \frac{1}{4\pi} \int \dl^2x \, \omega_{abc} \omega^b \partial_\nu \phi_c(x) \partial^\nu \phi_a(x)\\
            &= 0.
        \end{align}
        Here the first equality follows from the same calculations that we used to compute the 2-point correlators following \cref{eqn:free boson 2-correlator step 1}.
        The second equality is integration by parts to move the derivative across at the cost of a sign.
        The third equality is because \(\varepsilon_{abc}\) is antisymmetric in \(a\) and \(c\), and \(\partial_\nu \phi_c(x) \partial^\nu \phi_a(x)\) is symmetric in \(a\) and \(c\).
    \end{exm}
    
    The reason we care about symmetries in QFT is Noether's theorem, a result that tells us that each continuous symmetry gives rise to a conservation law, and we like conservation laws in physics because they give us equations we can work with.
    
    \begin{thm}{Noether}{}
        Let \(\lagrangian\) be a Lagrangian in the fields \(\phi_i\) and suppose we have an infinitesimal transformation
        \begin{equation}
            \phi_i(x) \mapsto \phi_i(x) + \omega^a(x) \delta_a \phi_i(x).
        \end{equation}
        This is a symmetry of the equations of motion if under this transformation
        \begin{equation}
            \lagrangian \mapsto \lagrangian + \omega^a \partial_\mu X^\mu_a.
        \end{equation}
        for some smooth vector field \(X_a\).
        When this is the case the current density, also called the \defineindex{Noether current},
        \begin{equation}
            j^\mu_a = X^\mu_a - \diffp{\lagrangian}{(\partial_\mu \phi_i)} \delta_a\phi_i
        \end{equation}
        is conserved, meaning \(\partial_\mu j^\mu = 0\).
    \end{thm}
    
    This is a rather abstract statement of the result.
    Most of the time we're interested in the case where \(\delta \lagrangian = 0\), so \(X^\mu_a = 0\).
    However, since what we really want is that the action is invariant we allow this divergence term, \(\partial_\mu X^\mu_a\), since the divergence theorem allows us to write this as a boundary term, which we always assume vanishes.
    
    The reason that this gives a conserved quantity is that we are promoting \(\omega^a\) to depend on position.
    This means that the variation in the action is no longer zero, and is instead given by
    \begin{equation}
        \delta S = -\int \dl^2x \, j^\mu_a(x) \partial_\mu \omega^a(x).
    \end{equation}
    Integrating by parts we then have
    \begin{equation}
        \delta S = \int \dl^2x \, \partial_\mu j^\mu_a(x) \omega^a(x).
    \end{equation}
    Since \(\omega^a\) is in general non-zero this will vanish, as the variation in the action must, only if \(\partial_\mu j^\mu_a = 0\).
    
    \begin{exm}{}{}
        Consider the free massless scalar boson.
        As discussed in \cref{exm:translation symmetry} this admits a translational symmetry
        \begin{equation}
            \phi(x) \mapsto \phi(x) + \omega^\nu \partial_\nu \phi(x).
        \end{equation}
        Here the conserved current is
        \begin{equation}
            j^{\mu\nu} = \frac{1}{8\pi} (\delta^{\mu\nu} \partial_\rho \phi \partial^\rho \phi - 2\partial^\nu \phi \partial^\mu \phi).
        \end{equation}
        Note that in this the index \(a\) for the symmetry is actually a spacetime index, \(\nu\).
        Despite this formal difference between how the indices \(\mu\) and \(\nu\) arise this quantity is actually symmetric in these indices.
        
        We can fairly easily show that \(j^{\mu\nu}\) is conserved by considering the equations of motion for \(\phi\), which can be derived from the Euler--Lagrange equations,
        \begin{equation}
            \partial_\mu\left( \diffp{\lagrangian}{(\partial_\mu \phi)} \right) = \diffp{\lagrangian}{\phi}.
        \end{equation}
        In this case the Lagrangian is
        \begin{equation}
            \lagrangian = \frac{1}{8\pi} \partial_\nu \phi \partial^\nu \phi,
        \end{equation}
        and as we always do in the Lagrangian formalism we treat \(\phi\) and its derivatives as independent, meaning we have
        \begin{equation}
            \diffp{\lagrangian}{\phi} = 0, \qqand \diffp{\lagrangian}{(\partial_\mu \phi)} = \frac{1}{8\pi}2\partial^\mu \phi.
        \end{equation}
        Thus, we have the equation of motion
        \begin{equation}
            \partial_\mu \partial^\mu \phi = 0,
        \end{equation}
        which is just Laplace's equation.
        Now we compute the divergence of \(j^{\mu\nu}\):
        \begin{align}
            \partial_\mu j^{\mu\nu} &= \frac{1}{8\pi} (\delta^{\mu\nu} \partial_\mu \partial_\rho \phi \partial^\rho \phi + \delta^{\mu\nu} \partial_\rho \phi \partial_\mu \partial^\rho \phi \notag\\
            &\qquad - 2 \partial_\mu \partial^\nu \phi \partial^\mu \phi - 2\partial^\nu \phi \underbrace{\partial_\mu \partial^\mu \phi}_{=0})\\
            &= \frac{1}{8\pi}(\partial^\nu \partial_\rho\phi \partial^\rho\phi + \partial_\rho \phi \partial^\nu \partial^\rho \phi - 2\partial_\mu \partial^\nu \phi \partial^\mu \phi)\\
            &= \frac{1}{8\pi}(\partial^\nu \partial^\rho \phi \partial_\rho \phi + \partial^\nu \partial^\rho\phi \partial_\rho\phi - 2\partial^\nu \partial^\rho \phi \partial^\rho\phi)\\
            &= 0.
        \end{align}
    \end{exm}
    
    \begin{exm}{}{}
        Consider the three free massless scalar boson of \cref{exm:rotational symmetry} where we showed that we have a rotational symmetry
        \begin{equation}
            \phi_a(x) \mapsto M_{ab}\phi_b(x)
        \end{equation}
        for \(M \in \orthogonal(3)\).
        The Lagrangian in this case is
        \begin{equation}
            \lagrangian = \frac{1}{8\pi} \int \dl^2c \, \partial_\mu \phi_a \partial^\mu \phi_a.
        \end{equation}
        Some computations tell us that
        \begin{equation}
            \diffp{\lagrangian}{\phi_a} = 0, \qqand \diffp{\lagrangian}{(\partial_\mu \phi_a)} = \frac{1}{8\pi}2\partial^\mu \phi_a.
        \end{equation}
        Thus, the equations of motion are
        \begin{equation}
            \partial_\mu \partial^\mu \phi_a = 0
        \end{equation}
        for each index \(a = 1, 2, 3\).
        The Lagrangian is invariant under this symmetry.
        The corresponding conserved current is
        \begin{equation}
            j^\mu_a = - \diffp{\lagrangian}{(\partial_\mu \phi_a)} M_{ab}\phi_b = -\partial^\mu \phi_a M_{ab} \phi_b.
        \end{equation}
        This is conserved since
        \begin{align}
            \partial_\mu j^\mu_a = -\partial_\mu \partial^\mu \phi_a M_{ab} \phi_b - \partial^\mu \phi_a M_{ab} \partial_\mu \phi_b.
        \end{align}
        The first term vanishes by the equations of motion.
        The second term vanishes because \(M \in \specialOrthogonalLie(3)\) is antisymmetric in \(a\) and \(b\), whereas the \(\partial^\mu \phi_a \partial_\mu \phi_b\) factor is symmetric in \(a\) and \(b\).
    \end{exm}
    
    \section{Ward--Takahashi Identities}
    Our goal in this section is to take the previous section's work on continuous symmetries and use it to impose relations between correlators.
    To do so we start with some arbitrary action functional, \(S[\phi]\), which we assume is invariant under some infinitesimal transformation
    \begin{equation}
        \phi \mapsto \phi' = \phi + \omega^a \delta_a \phi.
    \end{equation}
    We treat this as a change of integration variable in our functional integral.
    Demanding that functional integrals are invariant under change of integration variable we should therefore have
    \begin{equation}
        \int \e^{-S[\phi]}\phi(z_1) \dotsm \phi(z_n) \DD\phi = \int \e^{-S[\phi']} \phi'(z_1) \dotsm \phi'(z_n) \DD\phi'.
    \end{equation}
    We now assume that the integration measure, \(\DL\phi\), is invariant under this change of variables, so \(\DL\phi = \DL\phi'\).
    This is certainly true for a normal integral where a change of variables \(x \mapsto x + c\) for a constant \(c\) doesn't change the integration measure.
    So, using the definition of the infinitesimal transformation we are left with
    \begin{multline}
        \int \exp\left\{ -S[\phi] - \int \dl{^2x} \, \partial_\mu j^\mu_a(x) \omega^a(x) \right\}\\
        \times(\phi(z_1) + \omega^a(z_1) \delta_a\phi(z_1)) \dotsm (\phi(z_n) + \omega^a(z_n) \delta_a\phi(z_n)) \DD\phi.
    \end{multline}
    Now, expand the exponential to first order in \(\omega^a\):
    \begin{multline}
        \int \left( 1 - S[\phi] - \int \dl{^2x} \partial_\mu j^\mu_a(x) \omega^a(x) \right)\\
        \times(\phi(z_1) + \omega^a(z_1) \delta_a\phi(z_1)) \dotsm (\phi(z_n) + \omega^a(z_n) \delta_a\phi(z_n)) \DD\phi.
    \end{multline}
    Since we're expanding only to first order in \(\omega^a\) we should expand the brackets and drop any terms with more than one factor of \(\omega^a\).
    This gives
    \begin{multline}
        \int \left( 1 - S[\phi] - \int \dl^2x \partial_\mu j^\mu_a(x) \omega^a(x) \right) (\phi(z_1) \dotsm \phi(z_n)\\
        + \phi(z_1) \dotsm \phi(z_{n-1}) \omega^a(z_n)\delta_a\phi(z_n) + \dotsb + \omega^a(z_1)\delta_a\phi(z_1) \phi(z_2) \dotsm \phi(z_n)) \DD\phi.
    \end{multline}
    Expanding the bracket further, and still keeping only first order terms in \(\omega^a\), we get
    \begin{multline*}
        \int (1 - S[\phi])\bigg( \phi(z_1) \dotsm \phi(z_n) + \phi(z_1) \dotsm \phi(z_{n-1}) \omega^a(z_n)\delta_a\phi(z_n) + \dotsb\\
         + \omega^a(z_1)\delta_a\phi(z_1)\phi(z_2) \dotsm \phi(z_n) - \left( \int \dl^2x \partial_\mu j^\mu_a(x)\omega^a(x) \phi(z_1) \dotsm \phi(z_n)  \right) \bigg) \DD\phi.
    \end{multline*}
    We now take the functional derivative with respect to \(\omega^a(y)\).
    This turns each \(\omega^a(z)\) into \(\delta(y - z)\) and we are then left with
    \begin{multline*}
        \int\left( 1 - S[\phi] \right) \bigg( 0 + \phi(z_1) \dotsm \phi(z_{n-1}) \delta(y - z_n)\delta_a\phi(z_n) + \dotsb\\
        + \delta(y - z_1)\delta_a\phi(z_1)\phi(z_2) \dotsm \phi(z_n) - \left( \int \dl{^2x} \, \partial_\mu j^\mu_a(x) \delta(y - x) \phi(z_1) \dotsm \phi(z_n) \right)\bigg).
    \end{multline*}
    We can use the Dirac delta to perform the inner integral, giving
    \begin{multline*}
        \int\left( 1 - S[\phi] \right) \bigg( \phi(z_1) \dotsm \phi(z_{n-1}) \delta(y - z_n)\delta_a\phi(z_n) + \dotsb\\
        + \delta(y - z_1)\delta_a\phi(z_1)\phi(z_2) \dotsm \phi(z_n) - \left( \partial_\mu j^\mu_a(y)\phi(z_1) \dotsm \phi(z_n) \right)\bigg).
    \end{multline*}
    We now make the assumption that \(1 - S[\phi] = \exp\{-S[\phi]\}\), allowing us to write this as
    \begin{multline*}
        \int \e^{-S[\phi]} ( \phi(z_1) \dotsm \phi(z_{n-1}) \delta(y - z_n)\delta_a\phi(z_n) + \dotsb\\
        + \delta(y - z_1)\delta_a\phi(z_1) \phi(z_2) \dotsm \phi(z_n) - \partial_\mu j^\mu_a(y) \phi(z_1) \dotsm \phi(z_n) ).
    \end{multline*}
    We can expand this and use the linearity of the integral to recognise that this is a sum of correlators (after dividing by \(Z\) for normalisation).
    Further, this sum must vanish, because we took the derivative with respect to \(\omega^a\) and when considering the initial expression in \(\phi\) it is independent of \(\omega^a\).
    Rearranging these correlators slightly, and using linearity to pull the \(\delta(y - z)\) terms out, and finally renaming \(y\) to \(x\), we have
    \begin{align}
        \correlator{\partial_\mu j^\mu_a(x) \phi(z_1) \dotsm \phi(z_n)} &= \delta(x - z_1) \correlator{\delta_a\phi(z_1)\phi(z_2) \dotsm \phi(z_n)}\\
        &+ \dotsb \notag\\
        &+ \delta(x - z_n)\correlator{\phi(z_1) \dotsm \phi(z_{n-1}) \delta_a\phi(z_n)}. \notag
    \end{align}
    This is called the \defineindex{Ward--Takahashi identity}, or sometimes just the \defineindex{Ward identity}.
    
    This is the QFT version of the classical conservation law \(\partial_\mu j^\mu_a = 0\).
    The idea is, much like the Schwinger--Dyson/quantum equations of motion, this reduces to \(\partial_\mu j^\mu_a = 0\) in almost all cases, whenever \(x \ne z_i\), but when \(x = z_i\) we get these \enquote{contact terms} in the form of the infinite Dirac deltas.
    
    Note that to use \(Z\) we had to use the fact that
    \begin{equation}
        Z' = Z + Z \int \dl{^2x} \correlator{\omega^a(x) \partial_\mu j^\mu_a(x)} = Z + Z\int \dl^2x \omega^a(x) \partial_\mu \correlator{j^\mu_a(x)} = Z
    \end{equation}
    where the first equality follows by linearity of the correlators and the derivative rule for the correlators.
    The final equality follows assuming that \(\correlator{j^\mu_a(x)} = 0\), which is the case by rotational invariance.
    Basically, if this result was non-zero then it would give us a distinguished direction in spacetime, the direction this correlator points in, and that is not something we have.
    
    Further, note that if we replace our fundamental field with \(n\) (scalar) fields \(\quantumField{O}_i \in W\) with the infinitesimal transformations
    \begin{equation}
        \quantumField{O}_i(x) \mapsto \quantumField{O}_i(x) + \omega^a \delta_a\quantumField{O}_i(x)
    \end{equation}
    where \(\delta_i\quantumField{O}_i \in W\) with corresponding conserved currents \(j^\mu_a \in W\) then
    \begin{align}
        \correlator{\partial_\mu j^\mu_a(x) \quantumField{O}_1(z_1) \dotsm \quantumField{O}_n(z_n)} &= \delta(x - z_1) \correlator{\delta_a\quantumField{O}_1(z_1)\quantumField{O}_2(z_2) \dotsm \quantumField{O}_n(z_n)}\\
        &+ \dotsb \notag\\
        &+ \delta(x - z_n)\correlator{\quantumField{O}_1(z_1) \dotsm \quantumField{O}_{n-1}(z_{n-1}) \delta_a\quantumField{O}_n(z_n)}, \notag
    \end{align}
    and the proof of this is identical to the proof where \(\quantumField{O}_i = \phi\).
    
    \section{Diffeomorphism Covariance and Change of Metric}
    To do conformal field theory we need to consider correlation functions on \(\complex_{\infty}\) with a general metric, \(g_{\mu\nu}\).
    We can define a QFT via a path integral and action functional \(S[\phi, g_{\mu\nu}]\).
    It is important to distinguish here that \(\phi\) is the quantum field, and \(g_{\mu\nu}\) is just there because we're now including explicit metric dependence.
    Crucially we do not attempt to do a functional integral over \(g_{\mu\nu}\), to do so would be to step into the realms of quantum gravity, something we are not equipped for or interested in.
    
    For example, the free massless scalar boson should be modified by taking
    \begin{equation}
        S_{\freeboson}[\phi, g_{\mu\nu}] = \frac{1}{8\pi} \int \dl{^2x} \, \sqrt{g} g^{\mu\nu} \partial_\mu \phi \partial_\nu \phi = \frac{1}{8\pi} \int \dl^2x \, \sqrt{g} \partial^\mu \phi \partial_\mu \phi.
    \end{equation}
    Here \(g = \det(g_{\mu\nu})\), and \(\dl{^2x}\sqrt{g}\) is the volume form.
    
    Our correlators are then given by
    \begin{equation}
        \correlator{\phi(x_1) \dotsm \phi(x_n)}_{g_{\mu\nu}} = \frac{1}{Z[g_{\mu\nu}]} \int \e^{-S[\phi, g_{\mu\nu}]} \phi(x_1) \dotsm \phi(x_n) \DD\phi.
    \end{equation}
    Here
    \begin{equation}
        Z[g_{\mu\nu}] = \correlator{1}_{g_{\mu\nu}} = \int \e^{-S[\phi, g_{\mu\nu}]} \DD\phi
    \end{equation}
    is the partition functional in this general metric.
    We can be more general and replace each \(\phi\) with a field \(\quantumField{O}_i\).
    
    Now consider a diffeomorphism \(\varphi \colon \complex_{\infty} \to \complex_{\infty}\).
    In physics parlance this is just a smooth change of coordinates in our space.
    We should get the result that
    \begin{equation}
        \correlator{\quantumField{O}_1(\varphi(x_1)) \dotsm \quantumField{O}_n}_{g_{\mu\nu}} = \correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{\varphi^*g_{\mu\nu}}.
    \end{equation}
    Note that here we take \(g_{\mu\nu}\) to be the metric of codomain of \(\varphi\), if instead we take it to be the metric of the domain then we should have
    \begin{equation}
        \correlator{\quantumField{O}_1(\varphi(x_1)) \dotsm \quantumField{O}_n}_{(\varphi^{-1})^*g_{\mu\nu}} = \correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{g_{\mu\nu}}.
    \end{equation}
    This is a bit like how in a change of coordinates given by translating \(x\) by \(a\) we actually evaluate our functions at \(x - a\).
    Note that this behaves well under composition of diffeomorphisms since \((\varphi \psi)^* = \psi^* \varphi^*\).
    
    We demand that the action functional is invariant under this ,
    \begin{equation}
        Z[g_{\mu\nu}] = \correlator{1}_{g_{\mu\nu}} = \correlator{1}_{\varphi^*g_{\mu\nu}} = Z[\varphi^*g_{\mu\nu}].
    \end{equation}
    
    We can think of this diffeomorphism/coordinate change as a symmetry of our QFT.
    This symmetry is
    \begin{equation}
        x^\mu \mapsto \varphi^\mu(x).
    \end{equation}
    We also have
    \begin{equation}
        (\varphi^*g)_{\mu\nu} = \diffp{\varphi^\alpha}{x^\mu} \diffp{\varphi^\beta}{x^\nu} g_{\alpha\beta}(\varphi(x)).
    \end{equation}
    Note that, for now, we're assuming that our local fields transform as scalars, later we'll generalise to vectors, tensors, and even spinors.
    
    Suppose that the corresponding infinitesimal change of the metric is by addition of a special local field, \(T^{\mu\nu} \in W\), called the \defineindex{energy-momentum tensor} (or \defineindex{stress-energy tensor}).
    This field's defining property is that
    \begin{multline}
        \label{eqn:defining property of energy momentum tensor}
        2^m \frac{1}{Z[g_{\mu\nu}]} \frac{\delta^m}{\delta g_{\mu_1\nu_1}(y_1) \dotsm \delta_{\mu_m\nu_m}(y_m)} Z[g_{\mu\nu}]\correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{g_{\mu\nu}}\\
        = \left( \prod_{i=1}^m \sqrt{g(y_i)} \right) \correlator{T^{\mu_1\nu_1}(y_1) \dotsm T^{\mu_m\nu_m}(y_m) \quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{g_{\mu\nu}}.
    \end{multline}
    
    For the \(m = 1\) case we have
    \begin{multline}
        2 \frac{1}{Z[g_{\mu\nu}]} \diffd{}{g_{\mu\nu}(y)} (Z[g_{\mu\nu}] \correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{g_{\mu\nu}})\\
        = \sqrt{g(y)} \correlator{T^{\mu\nu}(y) \quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{g_{\mu\nu}}.
    \end{multline}
    This has the equivalent integral version
    \begin{multline*}
        Z[g_{\mu\nu} + \delta g_{\mu\nu}] \correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{g_{\mu\nu} + \delta g_{\mu\nu}}\\
        = Z[g_{\mu\nu}] \correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{g_{\mu\nu}}\\
        + \frac{1}{2} \int \dl{^2y} \, \sqrt{g} \correlator{T^{\mu\nu}(y) \delta g_{\mu\nu}(y) \quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{g_{\mu\nu}}.
    \end{multline*}
    Here we're taking an infinitesimal transformation
    \begin{equation}
        g_{\mu\nu} \mapsto g'_{\mu\nu} = g_{\mu\nu} + \delta g_{\mu\nu}.
    \end{equation}
    Using \((g')_{\mu\alpha}(g')^{\alpha\nu} = \tensor{\delta}{^\nu_\mu}\) we have
    \begin{align}
        \tensor{\delta}{^\nu_\mu} &= (g_{\mu\alpha} + \delta g_{\mu\alpha})(g^{\alpha\nu} + \delta g^{\alpha\nu})\\
        &= g_{\mu\alpha} g^{\alpha\nu} + g_{\mu\alpha} \delta g^{\alpha\nu} + g^{\alpha\nu} \delta g_{\mu\alpha} + \delta g_{\mu\alpha} \delta g_{\alpha\nu}\\
        &= \tensor{\delta}{^\nu_\mu} + g_{\mu\alpha} \delta g^{\alpha\nu} + g^{\alpha\nu} \delta g_{\mu\alpha} + \order(\delta g^2)
    \end{align}
    which means we must have
    \begin{equation}
        g_{\mu\alpha} \delta g^{\alpha\nu} + g^{\alpha\nu} \delta g_{\mu\alpha} = 0 \implies g_{\mu\alpha} \delta g^{\alpha\nu} = -g^{\alpha\nu} \delta g_{\mu\alpha}.
    \end{equation}
    Multiplying this by \(g^{\mu\beta}\) we have
    \begin{equation}
        g^{\mu\beta} g_{\mu\alpha} \delta g^{\alpha\nu} = - g^{\mu\beta} g^{\alpha\nu} \delta g_{\mu\alpha}
    \end{equation}
    which simplifies to
    \begin{equation}
        \tensor{\delta}{^\beta_\alpha} \delta g^{\alpha\nu} = - g^{\mu\beta} g^{\alpha\nu} \delta g_{\mu \alpha}
    \end{equation}
    and so
    \begin{equation}
        \delta g^{\beta\nu} = - g^{\mu\beta} g^{\alpha\nu} \delta g_{\mu \alpha}.
    \end{equation}
    The minus sign is important here, it means that in equations like \cref{eqn:defining property of energy momentum tensor} we can replace \(\delta g^{\alpha\beta}\) on the left with \(\delta g_{\alpha\beta}\) as long as we swap \(T_{\alpha\beta}\) for \(-T^{\alpha\beta}\) on the right.
    This means we don't have to specify any derivatives with respect to \(g^{\alpha\beta}\), just the derivatives with respect to \(g_{\alpha\beta}\) in \cref{eqn:defining property of energy momentum tensor} are sufficient.
    
    Consider an infinitesimal diffeomorphism, \(\varphi \colon \complex_{\infty} \to \complex_{\infty}\) where we start with the flat metric, \(g_{\mu\nu} = \delta_{\mu\nu}\).
    By infinitesimal we mean that the coordinate transformation is
    \begin{equation}
        x^\mu \mapsto \varphi^\mu(x) = x^\mu + \varepsilon^\mu(x)
    \end{equation}
    where the components \(\varepsilon^\mu(x)\) are sufficiently small that we can work to leading order in \(\varepsilon\).
    For correlators in the flat metric we'll simply write \(\correlator{-}_{\delta_{\mu\nu}} = \correlator{-}\).
    Given a field, \(\quantumField{O}_i\), we need to evaluate this field at \(\varphi(x)\) in order to evaluate correlators, and we can do this with a Taylor expansion:
    \begin{equation}
        \quantumField{O}_i(x_i + \varepsilon(x_i)) = \quantumField{O}_i(x_i) + \varepsilon^\mu \partial_\mu \quantumField{O}_i(x_i) + \order(\varepsilon^2).
    \end{equation}
    Under this transformation the metric transforms as
    \begin{align}
        \varphi^*g_{\mu\nu} &= \diffp{\varphi^\rho}{x^\mu} \diffp{\varphi^\sigma}{x^\nu} g_{\rho\sigma}\\
        &= (\tensor{\delta}{^\rho_\mu} + \partial_\mu \varepsilon^\rho)(\tensor{\delta}{^\sigma_\nu} + \partial_\nu \varepsilon^\sigma)g_{\rho\sigma}\\
        &= \tensor{\delta}{^\rho_\mu} \tensor{\delta}{^\sigma_\nu} g_{\rho\sigma} + \tensor{\delta}{^\rho_\mu} \partial_\nu \varepsilon^\sigma g_{\rho\sigma} + \partial_\mu \varepsilon^\rho \tensor{\delta}{^\sigma_\nu} g_{\rho\sigma} + \order(\varepsilon^2)\\
        &= g_{\mu\nu} + \partial_\nu \varepsilon_\mu + \partial_\mu \varepsilon_\nu + \order(\varepsilon^2).
    \end{align}
    Here we've used
    \begin{equation}
        \diffp{\varphi^\rho}{x^\mu} = \diffp{}{x^\mu}(x^\rho + \varepsilon^\rho) = \diffp{x^\rho}{x^\mu} + \diffp{\varepsilon^\rho}{x^\mu} = \tensor{\delta}{^\rho_\mu} + \partial_\mu \varepsilon^\rho.
    \end{equation}
    
    If we now consider the expression for the correlators transforming under a diffeomorphism and keep only terms up to first order in \(\varepsilon\) then we get
    \begin{align}
        \label{eqn:correlator after infinitesimal diffeo}
        &\correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{\delta_{\mu\nu} + \partial_\nu \varepsilon_\mu + \partial_\mu \varepsilon_\nu}\\
        &= \correlator{(\quantumField{O}_1(x_1) + \varepsilon^\mu \partial_\mu^{x_1} \quantumField{O}_1(x_1)) \dotsm (\quantumField{O}_n(x_n) + \varepsilon^\mu \partial_\mu^{x_n} \quantumField{O}_n(x_n))}_{\delta_{\mu\nu}} \notag\\
        &=\left( 1 + \sum_{i=1}^n \varepsilon^\mu(x_i) \diffp{}{x_i^\mu} \right) \correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{\delta_{\mu\nu}} \notag\\
        &= \correlator{\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{\delta_{\mu\nu}} \notag\\
        &\qquad\qquad+ \frac{1}{2} \int \dl{^2x} (\partial_\nu \varepsilon_\mu(x) + \partial_\mu \varepsilon_\nu(x)) \correlator{T^{\mu\nu} \quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}_{\delta_{\mu\nu}}. \notag 
    \end{align}
    
    We assume that this integral exists, which requires that \(\varepsilon\) should decay to zero sufficiently fast at infinity.
    Since we're choosing \(\varphi\) we're actually free to choose \(\varepsilon\), so we can assume that \(\varepsilon\) has compact support.
    Doing this we can integrate by parts (taking the boundary to be outside of the support of \(\varepsilon\)).
    In doing so the derivatives move from the \(\varepsilon\)s to the correlator, and we end up with both terms being the same, cancelling the factor of \(1/2\) and giving the integral
    \begin{equation}
        \int \dl{^2x} \varepsilon_\nu(x) \partial_\mu \correlator{T^{\mu\nu}(x) \quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}.
    \end{equation}
    Note that combining the terms relies on the symmetry of these terms under exchange of \(\mu\) and \(\nu\).
    We \emph{do not} presuppose that the energy momentum tensor is symmetric.
    Instead we recognise that \(\partial_\mu \varepsilon_\nu + \partial_\nu \varepsilon_\mu\) is symmetric in \(\mu\) and \(\nu\) and as such we may ignore any antisymmetric part of the correlator.
    
    Now that we have this we can take the functional derivative \(\difsd{}{\varepsilon_\rho(y)}\) of the last line of \cref{eqn:correlator after infinitesimal diffeo} and we get \(\difsd{\varepsilon_\nu(x)}{\varepsilon_\rho(y)} = \tensor{\delta}{^\rho_\nu}\delta(x - y)\).
    We can then use the Dirac delta to perform the integral and we get
    \begin{equation}
        \tensor{\delta}{^\rho_\nu} \partial_\mu \correlator{T^{\mu\nu}(y) \quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}.
    \end{equation}
    If we take the same derivative on the penultimate line of \cref{eqn:correlator after infinitesimal diffeo} then the sum over all \(\varepsilon^\mu(x_i)\partial_\mu^{x_i}\) becomes a sum of the terms \(\tensor{\delta}{^\rho_\nu} \delta(x_i - y)\), and the constant term vanishes.
    Thus, we have
    \begin{align}
        \label{eqn:ward identity for energy momentum tensor}
        &\partial_\mu \correlator{T^{\mu\nu}(y) \quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)}\\
        &= - \delta(x_1 - y) \correlator{\partial^\mu_{x_1}\quantumField{O}_1(x_1) \dotsm \quantumField{O}_n(x_n)} - \dotsb - \delta(x_n - y) \correlator{\quantumField{O}_1(x_1) \dotsm \partial^\mu_{x_n} \quantumField{O}_n(x_n)}. \notag
    \end{align}
    This is the Ward identity for \(T^{\mu\nu}\).
    
    \chapter{Conformal Field Theories}
    \section{Setup}
    In this chapter we will now look specifically at conformal field theories.
    A conformal field theory is, first and foremost, a quantum field theory.
    This means that we can specify the required data by specifying some collection of local fields, \(W\), and correlators.
    We will also require that there is an energy-momentum tensor, \(T^{\mu\nu} \in W\).
    The primary fields we consider are \(\quantumField{O}_{h_i, \overbar{h}_i} \in W\) where \(h_i, \overbar{h}_i \in \reals\) are called \define{conformal weights}\index{conformal weight}.
    The requirement on \(h_i\) and \(\overbar{h}_i\) is that \(h_i - \overbar{h}_i = s \in \integers\).
    The integer \(s\) is called the \defineindex{spin} of the field.
    We will restrict much of our study to the spin-zero case, where \(h_i = \overbar{h}_i\), and when in this regime we make our notation more compact by writing \(\quantumField{O}_{h_i}\) for \(\quantumField{O}_{h_i,\overbar{h}_i}\).
    
    Note that, in general, many primary fields may have the same value of \(h_i\), and we distinguish them by the index \(i\) rather than the value of \(h_i\).
    If we every want to fix a value of \(h_i\) then we should also attach the label \(i\) to the resulting field in some way.
    
    We assume that a CFT comes with a set of correlatoion functions of the primary fields, which we'll take to be defined on \(\complex_{\infty}\) (possibly diverging to \(\infty\) when \(x_i = x_j\) for \(i \ne j\)) with arbitrary metric, \(g_{\mu\nu}\).
    We'll denote these correlators by
    \begin{equation}
        \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}_{g_{\mu\nu}}
    \end{equation}
    and among these is the zero-point correlator
    \begin{equation}
        Z[g_{\mu\nu}] = \correlator{1}_{g_{\mu\nu}}.
    \end{equation}
    Further, we assume that correlators involving the energy-momentum tensor, such as
    \begin{equation}
        \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}_{g_{\mu\nu}T^{\mu_1\nu_1}(y_1) \dotsm T^{\mu_m\nu_m}(y_m)},
    \end{equation}
    are specified.
    These need not be finite for any values of \(y_i\), even if all the \(y_i\)s are distinct, so when there are energy-momentum tensors involved in the correlators we should always treat them as distributions.
    
    \section{Weyl Transformation}
    A \defineindex{Weyl transformation} is a coordinate transformation (that is a diffeomorphism \(\complex_{\infty} \to \complex_{\infty}\)) which results in a rescaling of the metric:
    \begin{equation}
        g_{\mu\nu}(x) \mapsto \Lambda(x)g_{\mu\nu}(x), \qquad \Lambda(x) > 0.
    \end{equation}
    We postulate in CFT that primary spin-zero fields transform under Weyl transformations in such a way that we have the identity
    \begin{equation}
        \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}_{\Lambda g_{\mu\nu}} = \prod_{i=1}^{n} \Lambda^{-h_i}(x_i) \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}_{g_{\mu\nu}}.
    \end{equation}
    All that this result says is that a Weyl transformation scales the metric at each point and the fields also scale by some power of this scaling factor, and this power defines \(h_i\).
    Non-primary, or non-spin-zero, fields need not transform so simply.
    
    The partition function, \(Z[g_{\mu\nu}]\), transforms under Weyl transformations in a more complicated way,
    \begin{equation}
        Z[\Lambda g_{\mu\nu}] = \e^{S[\Lambda, g_{\mu\nu}]} Z[g_{\mu\nu}]
    \end{equation}
    where \(S[\Lambda, g_{\mu\nu}]\) is called the \defineindex{Liouville functional}, defined by
    \begin{equation}
        S[\Lambda, g_{\mu\nu}] = \frac{c}{96\pi} \int \dl{^2x} \sqrt{g} (g^{\mu\nu} \partial_\mu (\ln \Lambda) \partial_\nu (\ln \Lambda) + 2R_2(\ln \Lambda))
    \end{equation}
    where
    \begin{itemize}
        \item \(R_2\) is the Ricci scalar curvature (which is twice the Gaussian curvature);
        \item \(c\) is the central charge, a parameter that depends on the CFT (and relates to a choice of representation of the Virasoro algebra).
    \end{itemize}
    
    Consider an infinitesimal Weyl transformation in flat space,
    \begin{equation}
        \delta_{\mu\nu} \mapsto (1 + \delta \Lambda(x)) \delta_{\mu\nu},
    \end{equation}
    that is, \(\delta g_{\mu\nu} = \delta \Lambda \, \delta_{\mu\nu}\).
    We then have
    \begin{align}
        &\correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}_{(1 + \delta \Lambda) \delta_{\mu\nu}} = \prod_{i=1}^{n} (1 + \delta \Lambda)^{-h_i} \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)} \notag\\
        &\qquad\qquad\approx \prod_{i=1}^n (1 - h_i \delta \Lambda) \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}\\
        &\qquad\qquad\approx (1 - h_1 - \dotsb - h_n) \delta\Lambda \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}.
    \end{align}
    Here we've used the Taylor series \((1 + \delta \Lambda)^{-h} = 1 - h \delta \Lambda + \order(\delta \Lambda^2)\), then we've expanded the product keeping only terms up to first order in \(\delta \Lambda\).
    
    For the Liouville functional we have
    \begin{itemize}
        \item \(\sqrt{g} = \sqrt{\delta} = \sqrt{\det I_2} = 1\);
        \item \(R_2 = 0\) since \(\delta_{\mu\nu}\) is the flat metric;
        \item \(\ln \Lambda = \ln(1 + \delta \Lambda) \approx \delta \Lambda\).
    \end{itemize}
    From this we can see that the Liouville functional goes as \(\partial_\mu \delta \Lambda \partial_\nu \delta \Lambda\) which we can assume vanishes as it's second order in \(\delta \Lambda\).
    Thus, for an infinitesimal transformation we have
    \begin{equation}
        Z[(1 + \delta \Lambda)\delta_{\mu\nu}] = \e^0 Z[\delta_{\mu\nu}] = Z[\delta_{\mu\nu}].
    \end{equation}
    This agrees with previous observations where we calculated the partition function to be
    \begin{equation}
        Z[\delta_{\mu\nu} + \delta \Lambda \delta_{\mu\nu}] = Z[\delta_{\mu\nu}] + \int \dl{^2x} \delta_{\mu\nu} \correlator{T^{\mu\nu}}
    \end{equation}
    which is the same since \(\delta_{\mu\nu}T^{\mu\nu} = \tensor{T}{^\mu_\mu}\) and \(\correlator{\tensor{T}{^\mu_\nu}} = 0\).
    
    For an infinitesimal transformation Weyl transformation we therefore have the correlator relation
    \begin{align}
        &\correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}_{(1 + \delta\Lambda)\delta_{\mu\nu}}\\
        &\qquad\qquad= \frac{1}{2} \int \dl{^2x} \, \delta \Lambda(x) \delta_{\mu\nu}\correlator{T^{\mu\nu}(x)\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}\\
        &\qquad\qquad= \left( 1 - \sum_{i=1}^n h_i \delta \Lambda(x) \right) \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}.
    \end{align}
    Taking the functional derivative \(\difsd{}{(\delta \Lambda(y))}\) above the integral gets a \(\delta(x - y)\) term, allowing us to compute the integral as
    \begin{equation}
        \frac{1}{2} \delta_{\mu\nu}\correlator{T^{\mu\nu}(y)\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}
    \end{equation}
    and in the last line the constant term vanishes and we get a sum over the terms \(h_i \delta(x - y)\), and combining these results we have
    \begin{equation}
        \label{eqn:energy momentum tensor trace contact terms}
        \correlator{\tensor{T}{^\mu_\mu}(y)\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)} = -2 \sum_{i=1}^n h_i \delta(x - y) \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}.
    \end{equation}
    We call this the \enquote{Ward identity} for the Weyl transformation.
    The quotation marks are because this doesn't take the usual form of a Ward identity, namely a divergence term being equal to some contact terms.
    However, we can combine this with the translation Ward identities to get the Ward identity
    \begin{multline}
        \partial_\nu \correlator{\tensor{T}{^\nu_\mu}(y) y^\mu \quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}\\
        = -\sum_{i=1}^n \left( x_i^\mu \diffp{}{x_i^\mu} + 2h_i \right) \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}.
    \end{multline}
    This is the Ward identity for dilations, because the vector field \(x^\mu \partial_\mu\) generates dilations.
    
    Note that while \(\correlator{\tensor{T}{^\mu_\mu}} = 0\) we do not, in general, have \(\correlator{\tensor{T}{^\mu_\mu}\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)} = 0\).
    
    We can generalise this result to the observation that in a CFT inside a correlation function with a flat metric we have that
    \begin{equation}
        \tensor{T}{^\mu_\mu} = 0 \qquad \text{up to contact terms}.
    \end{equation}
    This property is characteristic of CFTs amongst QFTs.
    
    \subsection{Infinitesimal Conformal Transformation}
    Now consider an infinitesimal conformal transformation
    \begin{equation}
        x^\mu \mapsto x^\mu + \varepsilon^\mu(x)
    \end{equation}
    for which
    \begin{equation}
        \label{eqn:infinitesimal cft condition}
        \partial_\mu \varepsilon_\nu + \partial_\nu \varepsilon_\mu = (\partial_\alpha \varepsilon^\alpha) \delta_{\mu\nu}.
    \end{equation}
    We then have
    \begin{align}
        \partial_\mu (T^{\mu\nu}\varepsilon_\nu) &= (\partial_\mu T^{\mu\nu})\varepsilon_\nu + T^{\mu\nu}\partial_\mu \varepsilon_\nu\\
        &= (\partial_\mu T^{\mu\nu})\varepsilon_\nu + \frac{1}{2}T^{\mu\nu}(\partial_\mu \varepsilon_\nu + \partial_\nu \varepsilon_\mu) + \frac{1}{2}T^{\mu\nu}(\partial_\mu \varepsilon_\nu - \partial_\nu \varepsilon_\mu)
    \end{align}
    where we've split \(\partial_\mu \varepsilon_\nu\) up into its symmetric and antisymmetric part.
    We can then use \cref{eqn:infinitesimal cft condition} to write this as
    \begin{align}
        \partial_\mu (T^{\mu\nu}\varepsilon_\nu) &= (\partial_\mu T^{\mu\nu})\varepsilon_\nu + \frac{1}{2}T^{\mu\nu}(\partial_\alpha \varepsilon^\alpha)\delta_{\mu\nu} + \frac{1}{2}T^{\mu\nu}(\partial_\mu \varepsilon_\nu - \partial_\nu \varepsilon_\mu)\\
        &= (\partial_\mu T^{\mu\nu})\varepsilon_\nu + \frac{1}{2}\tensor{T}{^\mu_\mu}(\partial_\alpha \varepsilon^\alpha) + \frac{1}{2}T^{\mu\nu}(\partial_\mu \varepsilon_\nu - \partial_\nu \varepsilon_\mu).
    \end{align}
    Now notice that \(\partial_\mu \varepsilon_\nu - \partial_\nu \varepsilon_\mu\) is antisymmetric, and so we can discard the symmetric part of the \(T^{\mu\nu}\) in the final term, giving
    \begin{equation}
        \partial_\mu (T^{\mu\nu}\varepsilon_\nu) = (\partial_\mu T^{\mu\nu})\varepsilon_\nu + \frac{1}{2}\tensor{T}{^\mu_\mu}(\partial_\alpha \varepsilon^\alpha) + \frac{1}{4}(T^{\mu\nu} - T^{\nu\mu})(\partial_\mu \varepsilon_\nu - \partial_\nu \varepsilon_\mu).
    \end{equation}
    Now, \(T^{\mu\nu}\) inside a correlation function of spin-zero primary fields is defined in terms of a variation of the metric, and so in such a setting \(T^{\mu\nu}\) is symmetric in its indices, meaning that
    \begin{equation}
        \label{eqn:energy momentum tensor symmetric in correlators}
        \correlator{(T^{\mu\nu}(x) - T^{\nu\mu}(x)) \quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)} = 0.
    \end{equation}
    Taking correlators of this equation and then applying the Ward identities for \(\partial_\mu T^{\mu\nu}\) and \(\tensor{T}{^\mu_\nu}\) (\cref{eqn:energy momentum tensor trace contact terms,eqn:ward identity for energy momentum tensor}) gives us the Ward identity
    \begin{align}
        \label{eqn:conformal ward identity}
        &\correlator{\partial_\mu(T^{\mu\nu}(x)\varepsilon_\nu(x)) \quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}\\
        &= -\sum_{i=1}^n \delta(x - x_i) \left( \varepsilon^\mu(x) \diffp{}{x_i^\mu} + h_i \partial_\alpha \varepsilon^\alpha(x) \right) \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}\\
        &= -\sum_{i=1}^n \delta(x - x_i)\left( \varepsilon^\mu(x_i) \diffp{}{x_i^\mu} + h_i \partial_\alpha \varepsilon^\alpha(x_i) \right) \correlator{\quantumField{O}_{h_1}(x_1) \dotsm \quantumField{O}_{h_n}(x_n)}.
    \end{align}
    Note that in the last line we've used the presence of the \(\delta(x - x_i)\) to replace \(x\)s with \(x_i\)s.
    This result is called the \defineindex{conformal Ward identity} for spinless primary fields.
    The conformal Killing vector field, \(\varepsilon^\mu\), has to be well-defined at the insertion points, \(x = x_i\), but otherwise is only constrained by \cref{eqn:infinitesimal cft condition}.
    
    Now make a change to complex coordinates.
    We know that a conformal Killing vector is specified by a holomorphic change of coordinates
    \begin{equation}
        z \mapsto z + \varepsilon(z)
    \end{equation}
    where
    \begin{equation}
        \varepsilon(z) = \varepsilon^z(z) = 2\varepsilon_{\overbar{z}}(z).
    \end{equation}
    The 2 here comes from the off-diagonal terms in the inverse metric when raising the \(\overbar{z}\) index.
    In complex coordinates the trace is
    \begin{align}
        \tensor{T}{^\mu_\mu} &= g^{\mu\nu}T_{\mu\nu}\\
        &= 2T_{z\overbar{z}} + 2T_{\overbar{z}z}\\
        &= g_{\mu\nu}T^{\mu\nu}\\
        &= \frac{1}{2}T^{z\overbar{z}} + \frac{1}{2}T^{\overbar{z}z}
    \end{align}
    and so we have
    \begin{equation}
        \tensor{T}{^\mu_\mu} = 2(T_{z\overbar{z}} + T_{\overbar{z}z}) = \frac{1}{2}(T^{z\overbar{z}} + T^{\overbar{z}z}) = 0 \quad \text{up to contact terms}.
    \end{equation}
    The assumption that \(T^{\mu\nu}\) is symmetric in correlators (\cref{eqn:energy momentum tensor symmetric in correlators}) holds more generally for primary fields of non-zero spin \emph{up to contact terms}, and so
    \begin{equation}
        2(T_{z\overbar{z}} - T_{\overbar{z}z}) = \frac{1}{2}(T^{\overbar{z}z} - T^{z\overbar{z}}) = 0 \quad \text{up to contact terms}.
    \end{equation}
    This constraint corresponds to a rotation invariance of our theory, which we will always assume holds.
    Combining these two results we have that
    \begin{equation}
        T_{z\overbar{z}} = T_{\overbar{z}z} = 0 \quad \text{up to contact terms}.
    \end{equation}
    This should hold in any (rotationally symmetric) 2D CFT.
    This leaves only two components of the energy-momentum tensor which have nonzero contribution at finite separation, namely \(T_{zz}\) and \(T_{\overbar{z}\overbar{z}}\).
    These components are constrained by the conservation equation
    \begin{equation}
        \partial_\mu T^{\mu\nu} = 0,
    \end{equation}
    which can be shown to hold inside a correlation function with any primary fields, not only spin-zero fields.
    Taking \(\nu = z\) we get
    \begin{equation}
        \partial_\mu T^{\mu z} = \partial_z T^{zz} + \partial_{\overbar{z}} T^{\overbar{z}z} = \partial_z T^{zz} \quad \text{up to contact terms}.
    \end{equation}
    This, and the same result for \(\partial_{\overbar{z}}T^{\overbar{z}\nu}\), implies that
    \begin{equation}
        \partial_{z}T^{zz} = 0, \qand \partial_{\overbar{z}}T^{\overbar{z}\overbar{z}} = 0 \quad \text{up to contact terms}.
    \end{equation}
    Lowering some indices this gives
    \begin{equation}
        \partial_z T_{\overbar{z}\overbar{z}} = 0, \qand \partial_{\overbar{z}} T_{zz} = 0 \quad \text{up to contact terms}.
    \end{equation}
    This is a strong constraint.
    It means that correlation functions at finite separation involving \(T_{zz}\) are holomorphic functions of \(z\), and correlators functions at finite separation involving \(T_{\overbar{z}\overbar{z}}\) are antiholomorphic functions of \(z\).
    The locality assumption means that such functions have poles only at the isolated points where the other local fields in the correlator are evaluated.
    Later we will exploit the transformation laws and invariance under conformal transformations to deduce the structure of these correlators.
    
    We will mostly be interested in the regular parts of correlators, that is the parts which don't diverge, which we get by restricting to non-coincident points.
    To constrain the functions that can arise in this way we can modify the Ward identities into a form where they don't contain any contact terms.
    To do this we integrate them over a region, \(M\), containing the insertion points, \(z_1, \dotsc, z_n\), but not containing any poles of \(\varepsilon\).
    Using the constraints on \(T\) derived above we have
    \begin{align}
        \partial_\mu (T^{\mu\nu} \varepsilon_\nu) &= \partial_z (T^{z\overbar{z}}\varepsilon_z) + \partial_{\overbar{z}} (T^{\overbar{z}z} \varepsilon_z)\\
        &= 2\partial_z(T_{zz} \varepsilon_z) + 2\partial_z(T_{\overbar{z}\overbar{z}} \varepsilon_{\overbar{z}})\\
        &= -\frac{1}{\pi}\partial_z(T(z)\varepsilon(z)) -\frac{1}{\pi}\partial_{\overbar{z}}(\overbar{T}(\overbar{z})\overbar{\varepsilon}(\overbar{z}))
    \end{align}
    where we use the common CFT shorthand
    \begin{equation}
        T(z) = -2\pi T_{zz}(z), \qand \overbar{T}(\overbar{z}) = -2\pi T_{\overbar{z}\overbar{z}}(\overbar{z}),
    \end{equation}
    which just makes expressions slightly shorter and saves on some factors of \(2\pi\) later.
    Start with the conformal Ward identity (\cref{eqn:conformal ward identity}) in complex coordinates:
    \begin{multline}
        \frac{1}{\pi}\correlator{\partial_z(T(z)\varepsilon_\nu(z)) \quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)} + \frac{1}{\pi}\correlator{\partial_{\overbar{z}}(\overbar{T}(\overbar{z})\overbar{\varepsilon}(\overbar{z})) \quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}\\
        = \sum_{i=1}^n \delta(z - z_i)\left( \varepsilon(z_i) \diffp{}{z_i} + \overbar{\varepsilon}(\overbar{z}_i) \diffp{}{\overbar{z}_i} + h_i \partial_{z_i}\varepsilon(z_i) + h_i \partial_{\overbar{z}_i} \overbar{\varepsilon}(\overbar{z}_i) \right)\\
        \cdot\correlator{\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}.
    \end{multline}
    Integrating over \(M\) we have
    \begin{multline}
        \frac{1}{\pi} \int_M \dl{^2z} \, \correlator{\partial_z(T(z)\varepsilon(z)) \quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)} + \frac{1}{\pi} \int_M \dl{^2\overbar{z}} \, \correlator{\partial_{\overbar{z}}(\overbar{T}(\overbar{z})\overbar{\varepsilon}(\overbar{z}))} =\\
        \sum_{i=1}^n \int_M \dl{^2z} \delta(z - z_i)\left( \varepsilon(z_i) \diffp{}{z_i} + \overbar{\varepsilon}(\overbar{z}_i) \diffp{}{\overbar{z}_i} + h_i \partial_{z_i}\varepsilon(z_i) + h_i \partial_{\overbar{z}_i} \overbar{\varepsilon}(\overbar{z}_i) \right)\\
        \cdot\correlator{\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}.
    \end{multline}
    On the left we use Stoke's theorem, and on the right we can use the Dirac deltas to perform the integral.
    This gives
    \begin{multline}
        \frac{1}{2\pi i} \oint_C \dl{z} \, \varepsilon(z) \correlator{T(z) \quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}\\
        - \frac{1}{2\pi i} \oint_C \dl{\overbar{z}} \, \overbar{\varepsilon}(\overbar{z}) \correlator{\overbar{T}(\overbar{z}) \quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)} =\\
        \sum_{i=1}^n \left( \varepsilon(z_i) \diffp{}{z_i}\bigg|_{z_i = z} + \overbar{\varepsilon}(\overbar{z}_i) \diffp{}{\overbar{z}_i}\bigg|_{z_i = z} + h_i \partial_{z_i}\varepsilon(z_i) + h_i \partial_{\overbar{z}_i} \overbar{\varepsilon}(\overbar{z}_i) \right)\\
        \cdot\correlator{\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}|_{z_i = z}.
    \end{multline}
    We can write the right hand side as
    \begin{equation}
        \correlator{\delta_{\varepsilon,\overbar{\varepsilon}}\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)} + \dotsb + \correlator{\quantumField{O}_{h_1}(z_1) \dotsm \delta_{\varepsilon, \overbar{\varepsilon}} \quantumField{O}_{h_n}(z_n)}
    \end{equation}
    where \(\delta_{\varepsilon,\overbar{\varepsilon}}\quantumField{O}_{h_i}\) is a field defined by
    \begin{equation}
        \delta_{\varepsilon,\overbar{\varepsilon}}\quantumField{O}_{h_i}(z_i) = [\varepsilon(z_i)\partial_{z_i} + \overbar{\varepsilon}(\overbar{z}_i)\partial_{\overbar{z}_i} + h_i\partial_z\varepsilon(z_i) + h_i\partial_{\overbar{z}}\overbar{\varepsilon}(\overbar{z}_i)]\quantumField{O}_{h_i}(z_i)
    \end{equation}
    where by \(\partial_z\varepsilon(z_i)\) we mean that the field \(\partial_z\varepsilon\) is evaluated at \(z_i\), this could be written as \(\partial_z\varepsilon(z)|_{z=z_i}\) in more standard notation.
    
    \chapter{Global Conformal Invariance}
    \section{Transformation Law for Correlators}
    Consider a global conformal transformation
    \begin{equation}
        z \mapsto z' = \varphi(z) = \frac{az + b}{cz + d}, \qqwhere ad - bc = 1.
    \end{equation}
    Starting with the flat metric, \(\delta_{\mu\nu}\), after this transformation the metric is \(\Lambda \delta_{\mu\nu}\) where \(\Lambda = \abs{\difs{\varphi}{z}}^2 > 0\).
    Under this transformation we have
    \begin{equation}
        \correlator{\quantumField{O}_{h_1}(\varphi(z_1)) \dotsm \quantumField{O}_{h_n}(\varphi(z_n))}_{\delta_{\mu\nu}} = \correlator{\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}_{\Lambda \delta_{\mu\nu}}.
    \end{equation}
    We can also treat this transformation as a Weyl transformation, which means that the correlators transform according to
    \begin{equation}
        \correlator{\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}_{\Lambda \delta_{\mu\nu}} = \prod_{i=1}^n \Lambda^{-h_i}(z_i) \correlator{\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}_{\delta_{\mu\nu}}.
    \end{equation}
    Equating these and writing \(z_i' = \varphi(z_i)\) and multiplying through by the product of the \(\Lambda^{h_i}\) we have
    \begin{equation}
        \correlator{\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)}_{\delta_{\mu\nu}} = \prod_{i=1}^n \Lambda^{h_i} \correlator{\quantumField{O}_{h_1}(z_1') \dotsm \quantumField{O}_{h_n}(z_n')}_{\delta_{\mu\nu}}.
    \end{equation}
    We can now drop the metric from the notation as all of this is considered in the flat metric, \(\delta_{\mu\nu}\).
    We can then use
    \begin{equation}
        \Lambda = \abs*{\diff{z'}{z}}^2 = \diff{z'}{z} \diff{\overbar{z}'}{z'}
    \end{equation}
    and we have
    \begin{equation}
        \correlator{\quantumField{O}_{h_1}(z_1) \dotsm \quantumField{O}_{h_n}(z_n)} = \left( \diff{z'}{z} \right)^{h_1} \left( \diff{\overbar{z}'}{\overbar{z}} \right)^{h_1} \dotsm \left( \diff{z'}{z} \right)^{h_n} \left( \diff{\overbar{z}'}{\overbar{z}} \right)^{h_n} \correlator{\quantumField{O}_{h_1}(z_1') \dotsm \quantumField{O}_{h_n}(z_n)}.
    \end{equation}
    This is the transformation law for correlators of scalar (spin zero, \(h_i = \overbar{h}_i\)) fields.
    
    A more general calculation allowing for \(h_i \ne \overbar{h}_i\) leaves us with the correlator transformation law
    \begin{equation}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1) \dotsm \quantumField{O}_{h_n, \overbar{h}_n}(z_n)} = \left( \diff{z'}{z} \right)^{h_1} \left( \diff{\overbar{z}'}{\overbar{z}} \right)^{\overbar{h}_1} \dotsm \left( \diff{z'}{z} \right)^{h_n} \left( \diff{\overbar{z}'}{\overbar{z}} \right)^{\overbar{h}_n} \correlator{\quantumField{O}_{h_1, \overbar{h}_1}(z_1') \dotsm \quantumField{O}_{h_n, \overbar{h}_n}(z_n)}.
    \end{equation}
    More succinctly, we can say that, in a correlation function, the primary fields transform as
    \begin{equation}
        \quantumField{O}_{h,\overbar{h}}(z, \overbar{z}) = \left( \diff{z'}{z} \right)^h \left( \diff{\overbar{z}'}{\overbar{z}} \right)^{\overbar{h}} \quantumField{O}_{h,\overbar{h}}(z', \overbar{z}).
    \end{equation}
    We can recast this as
    \begin{equation}
        \quantumField{O}_{h,\overbar{h}}(z, \overbar{z}) (\dl{z})^h (\dl{\overbar{z}})^{\overbar{h}} = \quantumField{O}_{h,\overbar{h}}(z', \overbar{z}') (\dl{z'})^h (\dl{\overbar{z}'})^{\overbar{h}}.
    \end{equation}
    This says that the primary fields are actually (the components of) differential forms, at least when considered inside correlators.
    
    One slight subtlety here is that really we want to consider \(\complex_{\infty}\), and any sensible theory will have correlators vanish at \(\infty\).
    If our transformation takes one of the insertion points, \(z_i\), to \(\infty\) then the correct way to deal with this is to take a limit of the transformation law as \(z_i \to \infty\).
    
    It should be noted that this transformation law respects composition of M\"obius transformations, that is if we have M\"obius transformations \(z \mapsto z'\) and \(z' \mapsto z''\) then under the composite of these we pick up a factor of
    \begin{equation}
        \left( \diff{z''}{z} \right)^h \left( \diff{\overbar{z}''}{\overbar{z}} \right)^{\overbar{h}} = \left( \diff{z''}{z'} \diff{z'}{z} \right)^h \left( \diff{\overbar{z}''}{\overbar{z}'}\diff{\overbar{z}'}{\overbar{z}} \right)^{\overbar{h}} = \left( \diff{z''}{z'} \right)^h \left( \diff{z'}{z} \right)^h \left( \diff{\overbar{z}''}{\overbar{z}'} \right)^{\overbar{h}}  \left( \diff{\overbar{z}'}{\overbar{z}} \right)^{\overbar{h}}.
    \end{equation}
    We can see that these are the same factors we pick up if we do both transformations separately.
    
    A last point that we make is that within correlators conformal transformations are always given by a diffeomorphism followed by a Weyl transformation, although not all such composite transformations are conformal.
    We can therefore think of a conformal transformation as resulting in a reparametrisation followed by a scaling.
    
    \section{Quasiprimary Fields}
    \begin{dfn}{}{}
        A \defineindex{quasiprimary field} is a local field, \(\quantumField{O}_{h,\overbar{h}}\) which transforms according to
        \begin{equation}
            \quantumField{O}_{h,\overbar{h}}(z, \overbar{z}) = \left( \diff{z'}{z} \right)^h \left( \diff{\overbar{z}'}{\overbar{z}} \right)^{\overbar{h}} \quantumField{O}_{h,\overbar{h}}(z', \overbar{z}')
        \end{equation}
        under a global conformal transformation, \(z \mapsto z'\).
    \end{dfn}
    
    Note that all primary fields are quasiprimary fields, but not necessarily\footnote{We can always take the trivial CFT in which the space of local fields is \(W = 0\), and in this all fields are trivially primary} vice versa.
    The distinction is that primary fields satisfy all of the Ward identities that we developed in the previous chapter (which relate to infinitesimal conformal transformations), whereas quasiprimary fields only need to behave nicely under global conformal transformations.
    
    For the rest of this chapter we will take all of our fields, \(\quantumField{O}_{h,\overbar{h}}\), to be quasiprimary fields.
    
    \subsection{Integrality of Spin}
    The spin, \(s = h - \overbar{h}\), is an integer.
    This is true for quasiprimary fields, as we show here.
    Consider a rotation,
    \begin{equation}
        z \mapsto z' = \e^{i\alpha} z.
    \end{equation}
    We have
    \begin{equation}
        \diff{z'}{z} = \e^{i\alpha}, \qqand \diff{\overbar{z}'}{\overbar{z}} = \diff{}{\overbar{z}} \e^{-i\alpha}\overbar{z} = \e^{-i\alpha},
    \end{equation}
    and so any quasiprimary field, \(\quantumField{O}_{h,\overbar{h}}\), must transform as
    \begin{equation}
        \quantumField{O}_{h,\overbar{h}}(z, \overbar{z}) = (\e^{i\alpha})^h (\e^{-i\alpha})^{\overbar{h}} \quantumField{O}_{h,\overbar{h}}(z', \overbar{z}') = \e^{i\alpha(h - \overbar{h})} \quantumField{O}_{h,\overbar{h}}(z', \overbar{z}').
    \end{equation}
    Now consider the case where \(\alpha = 2\pi\).
    We know that this should, of course, be the identity transformation, in which case we should have
    \begin{equation}
        \quantumField{O}_{h,\overbar{h}}(z, \overbar{z}) = \quantumField{O}_{h,\overbar{h}}(z', \overbar{z}').
    \end{equation}
    From this we can see that we must have
    \begin{equation}
        \e^{2\pi i(h - \overbar{h})} = 1 \implies h - \overbar{h} \in \integers.
    \end{equation}
    So, the spin is always an integer.
    
    \subsection{Structure of Correlation Functions}
    We can use similar techniques to the previous section, considering particularly nice conformal transformations, to determine the structure of the correlation functions, at least as far as we can for a general CFT.
    By this we mean that we'll see that \(n\)-point correlators for \(n \le 3\) have a fixed structure as a function of \(z_i\), differing only by a constant.
    For \(n \ge 4\) there is more freedom, which is where we are allowed to specify different correlators and we end up with different CFTs.
    
    \subsubsection{One-Point Correlation Function}
    Consider a single quasiprimary field, \(\quantumField{O}_{h,\overbar{h}}\).
    We will compute the correlator
    \begin{equation}
        \correlator{\quantumField{O}_{h,\overbar{h}}(z_1, \overbar{z}_1)}.
    \end{equation}
    To do so we consider how this correlator transforms under the translation, \(z \mapsto z' = z - z_1\), which is of course chosen so that \(z_1 \mapsto 0\).
    We then have
    \begin{equation}
        \diff{z'}{z} = 1, \qqand \diff{\overbar{z}'}{\overbar{z}} = 1,
    \end{equation}
    and so we must have
    \begin{equation}
        \correlator{\quantumField{O}_{h,\overbar{h}}(z_1, \overbar{z}_1)} = 1^h 1^{\overbar{h}} \correlator{\quantumField{O}_{h,\overbar{h}}(z_1 - z_1, \overbar{z}_1 - \overbar{z}_1)} = \correlator{\quantumField{O}_{h,\overbar{h}}(0, 0)}.
    \end{equation}
    This shows that the one-point correlator is completely fixed by the value of the constant \(C_1 = \correlator{\quantumField{O}_{h,\overbar{h}}(0, 0)}\), and so is independent of the insertion point.
    
    If we instead consider a rotation/dilation, \(z \mapsto z' = az\) for \(a \in \complex^{\times}\) then we have
    \begin{equation}
        \diff{z'}{z} = a, \qqand \diff{\overbar{z}'}{\overbar{z}} = \diff{}{\overbar{z}} (\overbar{a} \overbar{z}) = \overbar{a},
    \end{equation}
    and so the one-point correlator transforms as
    \begin{equation}
        \correlator{\quantumField{O}_{h,\overbar{h}}(z_1, \overbar{z}_1)} = a^h \overbar{a}^{\overbar{h}} \correlator{\quantumField{O}_{h,\overbar{h}}(az_1, \overbar{a}\overbar{z}_1)}
    \end{equation}
    and realising that all of these one-point correlators are just \(C_1\) we have
    \begin{equation}
        C_1 = a^h a^{\overbar{h}}C_1.
    \end{equation}
    Assuming that we have quasiprimary fields where \(h\) and \(\overbar{h}\) are not both zero we see we must have that \(C_1 = 0\).
    If \(h = \overbar{h} = 0\) then we cannot say that \(C_1 = 0\).
    Instead, we use the fact that in a (unitary) CFT the unique vacuum assumption is that there is a unique (up to scaling) operator with zero weights (that is, with \(h = \overbar{h} = 0\)), called the vacuum, and certainly the identity operator, \(\identity\) works here, since it is invariant under conformal transformations, and so works as this unique vacuum state.
    The identity operator is the rotation/dilation given by taking \(a = 1\), and we always have rescaling freedom to choose to have \(\correlator{\identity} = 1\).
    If we do this then we have
    \begin{equation}
        C_1 = \correlator{\quantumField{O}_{h,\overbar{h}}(z, \overbar{z})} = \delta_{h0} \delta_{\overbar{h}0}.
    \end{equation}
    
    \subsubsection{Two-Point Correlation Function}
    Now suppose that we have two quasiprimary fields, \(\quantumField{O}_{h_1,\overbar{h}_1}\) and \(\quantumField{O}_{h_2,\overbar{h}_2}\).
    Note that we do not assume that the \(h_i\) or \(\overbar{h}_i\) are distinct, but we keep the labels \(1\) and \(2\) even if the fields are actually the same, just to keep track.
    Our goal is to compute the structure of the two-point correlator
    \begin{equation}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_1) \quantumField{O}_{h_2, \overbar{h}_2}(z_2, \overbar{z}_2)}.
    \end{equation}
    
    As before we can consider a translation, \(z \mapsto z - z_1\), and the transformation law for quasiprimary fields tells us that we get
    \begin{equation}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_1) \quantumField{O}_{h_2, \overbar{h}_2}(z_2, \overbar{z}_2)} = \correlator{\quantumField{O}_{h_1, \overbar{h}_1}(0, 0) \quantumField{O}_{h_2, \overbar{h}_2}(z_2', \overbar{z}_2')}
    \end{equation}
    where \(z_2' = z_2 - z_1\).
    
    We can now consider a rotation/dilation performed after this transformation given by \(z' \mapsto z''/(z_2 - z_1)\).
    This is chosen such that \(z_2' \mapsto 1\).
    Note that we assume \(z_2 - z_1 \ne 0\) since we're interested in the regular structure, away from the poles at coincident points.
    We have
    \begin{equation}
        \diff{z''}{z'} = \frac{1}{z_2 - z_1}, \qqand \diff{\overbar{z}''}{\overbar{z}'} = \diff{}{\overbar{z}'}\frac{\overbar{z}'}{\overbar{z}_2 - \overbar{z}_1} = \frac{1}{\overbar{z}_2 - \overbar{z}_1}.
    \end{equation}
    Thus, the correlator transforms from the initial coordinate system to this translated and rotated/dilated coordinate system according to
    \begin{multline}
        \label{eqn:2pt correlator translated and rotated}
        \correlator{\quantumField{O}_{h_1, \overbar{h}_1}(z_1, \overbar{z}_1) \quantumField{O}_{h_2, \overbar{h}_2}(z_2, \overbar{z}_2)}\\
        = \left( \frac{1}{z_2 - z_1} \right)^{h_2} \left( \frac{1}{\overbar{z}_2 - \overbar{z}_1} \right)^{\overbar{h}_2} \correlator{\quantumField{O}_{h_1, \overbar{h}_1}(0, 0) \quantumField{O}_{h_2, \overbar{h}_2}(1, 1)}.
    \end{multline}
    We can then identify that \(C_{12} = \correlator{\quantumField{O}_{h_1, \overbar{h}_1}(0, 0) \quantumField{O}_{h_2, \overbar{h}_2}(1, 1)}\) is independent of the insertion points, \(z_1\) and \(z_2\).
    The two-point correlator is then given by
    \begin{equation}
        \label{eqn:z dependence of 2 pt correlator}
        \correlator{\quantumField{O}_{h_1, \overbar{h}_1}(z_1, \overbar{z}_1) \quantumField{O}_{h_2, \overbar{h}_2}(z_2, \overbar{z}_2)}\\
        = \left( \frac{1}{z_2 - z_1} \right)^{h_2} \left( \frac{1}{\overbar{z}_2 - \overbar{z}_1} \right)^{\overbar{h}_2} C_{12}.
    \end{equation}
    All of the \(z_i\) dependence is in those \(z_2 - z_1\) factors.
    
    We may also consider a special conformal transformation \(z \mapsto z' = z/(cz + 1)\), and this will allow us to determine \(C_{12}\).
    We have
    \begin{equation}
        \diff{z'}{z} = \frac{1}{(cz + 1)^2}, \qqand \diff{\overbar{z}'}{\overbar{z}} = \diff{}{\overbar{z}} \frac{\overbar{z}}{\overbar{c}\overbar{z} + 1} = \frac{1}{(\overbar{c}\overbar{z} + 1)^2}.
    \end{equation}
    Then the transformation law tells us that
    \begin{multline}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_1) \quantumField{O}_{h_2,\overbar{h}_2}(z_2, \overbar{z}_2)} = \left( \frac{1}{cz_1 + 1} \right)^{2h_1} \left( \frac{1}{\overbar{c}\overbar{z}_1 + 1} \right)^{2\overbar{h}_1}\\
        \times \left( \frac{1}{cz_2 + 1} \right)^{2h_2} \left( \frac{1}{\overbar{c}\overbar{z}_2 + 1} \right)^{2\overbar{h}_2} \frac{C_{12}}{(z_2' - z_1')^{h_1 + h_2} (\overbar{z}_2' - \overbar{z}_1')^{\overbar{h}_1 + \overbar{h}_2}}.
    \end{multline}
    We require that this is equal to the right hand side of \cref{eqn:z dependence of 2 pt correlator}.
    Noting that
    \begin{equation}
        z_2' - z_1' = \frac{z_2 - z_1}{(cz_2 + 1)(cz_1 + 1)}.
    \end{equation}
    we can show that if \(C_{12} \ne 0\) we must have that
    \begin{equation}
        (cz_1 + 1)^{h_1 - h_2} (cz_2 + 1)^{h_2 - h_1} (\overbar{c}\overbar{z}_1 + 1)^{\overbar{h}_1 - \overbar{h}_2} (\overbar{c}\overbar{z}_2 + 1)^{\overbar{h}_2 - \overbar{h}_1} = 1.
    \end{equation}
    This must hold for arbitrary \(z_1\), \(z_2\), and \(c\), which will only be the case if \(h_1 - h_2 = \overbar{h}_1 - \overbar{h}_2 = 0\), and so we can conclude that the functional form of the two-point correlator is
    \begin{equation}
        \label{eqn:general 2 pt correlator}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_1) \quantumField{O}_{h_2, \overbar{h}_2}(z_2, \overbar{z}_2)} = \delta_{h_1,h_2} \delta_{\overbar{h}_1, \overbar{h}_2} \frac{C_{12}}{(z_2 - z_1)^{2h_1} (\overbar{z}_2 - \overbar{z}_1)^{2\overbar{h}_1}}.
    \end{equation}
    
    \begin{exm}{}{}
        We saw for the free massless scalar boson that the two point correlator is
        \begin{equation}
            \correlator{\phi(z_1, \overbar{z}_2) \phi(z_2, \overbar{z}_2)} = -\ln\abs{z_1 - z_2}^2.
        \end{equation}
        We can compute the correlatoion function of derivative fields, \(\partial_z \varphi(z, \overbar{z})\), by using the fact that we've defined correlators so that the correlator of derivatives is the derivative of the correlator.
        This means that
        \begin{align}
            \correlator{\partial_{z_1}\phi(z_1, \overbar{z}_1) \partial_{z_2}\phi(z_2, \overbar{z}_2)} &= \partial_{z_1}\partial_{z_2}\correlator{\phi(z_1, \overbar{z}_1) \phi(z_2, \overbar{z}_2)}\\
            &= -\partial_{z_1}\partial_{z_2}\ln\abs{z_1 - z_2}^2\\
            &= -\frac{2}{(z_1 - z_2)^2}
        \end{align}
        and equating this with the general form of \cref{eqn:general 2 pt correlator} we see that we must have that the derivatives are quasiprimary fields with weights \((h, \overbar{h}) = (1, 0)\) and\footnote{\color{red}The lecture notes have \(C_{12} = -1\), and their expression for the correlator doesn't have the factor of 2 (I used \textit{Mathematica} to compute it).} \(C_{12} = -2\).
        In the free boson theory \(\partial_z\phi\) is actually a primary field, but that's just a special case of quasiprimary fields.
    \end{exm}
    
    \subsubsection{Three-Point Correlation Function}
    Now consider three quasiprimary fields.
    We can perform the same translation followed by a rotation/dilation as we did for the two-point correlator, and we find that
    \begin{multline}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_2) \quantumField{O}_{h_2,\overbar{h}_2}(z_2, \overbar{z}_2) \quantumField{O}_{h_3,\overbar{h}_3}(z_3, \overbar{z}_3)}\\
        = \frac{\correlator{\quantumField{O}_{h_1,\overbar{h}_1}(0, 0) \quantumField{O}_{h_2,\overbar{h}_2}(1, 1) \quantumField{O}_{h_3, \overbar{h}_3}(\xi, \overbar{\xi})}}{(z_2 - z_1)^{h_1 + h_2 + h_3}(\overbar{z}_2 - \overbar{z}_1)^{\overbar{h}_1 + \overbar{h}_2 + \overbar{h}_3}}
    \end{multline}
    where \(\xi\) is the coordinate \(z_3\) after the translation and rotation/dilation, which we can compute to be
    \begin{equation}
        z_3 \mapsto z_3 - z_1 \mapsto \frac{z_3 - z_1}{z_2 - z_1} = \xi.
    \end{equation}
    We have therefore removed the position dependence of all but the third field.
    To proceed we need to remove the dependence on \(\xi\) of the third field.
    We did this for the first two fields by exploiting the fact that \(0\) and \(1\) are distinguished elements\footnote{We could actually use any fixed distinct points, but it's nice to have \enquote{special} ones.} of \(\complex\), being the additive and multiplicative identity respectively.
    Fortunately, we aren't working in \(\complex\), but \(\complex_{\infty}\), and this gives us a third distinguished element, \(\infty\).
    We can therefore look for a transformation that takes \(\xi\) to \(\infty\) while leaving \(0\) and \(1\) invariant (or at least without introducing any position dependence).
    We have to be slightly careful with infinity, so what we'll do is look for a transformation that sends \(\xi\) to some value that we can take a limit of and in that limit it will go to \(\infty\).
    It turns out that the special conformal transformation
    \begin{equation}
        z \mapsto z' = \frac{(\eta - 1)z}{\eta - z} \quad \eta \ne 1
    \end{equation}
    does the job.
    This is a special conformal transformation, despite not being in the standard form (\(z/(cz + 1)\)) of one.
    This transformation is such that
    \begin{equation}
        0 \mapsto \frac{(\eta - 1)0}{\eta - 0} = 0, \qqand 1 \mapsto \frac{(\eta - 1)1}{\eta - 1} = 1.
    \end{equation}
    Further,
    \begin{equation}
        \xi \mapsto \xi' = \frac{(\eta - 1)\xi}{\eta - \xi} \to \infty \quad \text{ as } \quad \eta \to \xi.
    \end{equation}
    To compute the transformation law we should do so for finite \(\xi'\) and then take the limit as \(\eta \to \xi\).
    For the transformation law we have
    \begin{equation}
        \diff{z'}{z} = \frac{(\eta - 1)\eta}{(\eta - z)^2}, \qqand \diff{\overbar{z}'}{\overbar{z}} = \frac{(\overbar{\eta} - 1)\overbar{\eta}}{(\overbar{\eta} - \overbar{z})^2}.
    \end{equation}
    Composing this with our earlier transformations we have the transformation law
    \begin{multline}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_2) \quantumField{O}_{h_2,\overbar{h}_2}(z_2, \overbar{z}_2) \quantumField{O}_{h_3,\overbar{h}_3}(z_3, \overbar{z}_3)} = \left( \frac{(\eta - 1)\eta}{(\eta - 1)^2} \right)^{h_1} \left( \frac{(\overbar{\eta} - 1)\overbar{\eta}}{(\overbar{\eta} - 1)^2} \right)^{\overbar{{h}}_1}\\
        \times \left( \frac{(\eta - 1)\eta}{(\eta - 0)^2} \right)^{h_2} \left( \frac{(\overbar{\eta} - 1)\overbar{\eta}}{(\overbar{\eta} - 0)^2} \right)^{\overbar{h}_2} \left( \frac{(\eta - 1)\xi}{(\eta - \xi)^2} \right)^{h_3} \left( \frac{(\overbar{\eta} - 1)\overbar{\xi}}{(\overbar{\eta} - \overbar{\xi})^2} \right)^{\overbar{h}_3}\\
        \times \frac{\correlator{\quantumField{O}_{h_1,\overbar{h}_1}(0, 0) \quantumField{O}_{h_2,\overbar{h}_2}(1, 1) \quantumField{O}_{h_3, \overbar{h}_3}(\xi', \overbar{\xi}')}}{(z_2 - z_1)^{h_1 + h_2 + h_3} (\overbar{z}_2 - \overbar{z}_1)^{\overbar{h}_1 + \overbar{h}_2 + \overbar{h}_3}}.
    \end{multline}
    This simplifies to
    \begin{multline}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_2) \quantumField{O}_{h_2,\overbar{h}_2}(z_2, \overbar{z}_2) \quantumField{O}_{h_3,\overbar{h}_3}(z_3, \overbar{z}_3)} = \left( \frac{\eta}{\eta - 1} \right)^{h_1} \left( \frac{\overbar{\eta}}{\overbar{\eta} - 1} \right)^{\overbar{{h}}_1}\\
        \times \left( \frac{(\eta - 1)}{\eta} \right)^{h_2} \left( \frac{(\overbar{\eta} - 1)}{\overbar{\eta}} \right)^{\overbar{h}_2} \left( \frac{(\eta - 1)\xi}{(\eta - \xi)^2} \right)^{h_3} \left( \frac{(\overbar{\eta} - 1)\overbar{\xi}}{(\overbar{\eta} - \overbar{\xi})^2} \right)^{\overbar{h}_3}\\
        \times \frac{\correlator{\quantumField{O}_{h_1,\overbar{h}_1}(0, 0) \quantumField{O}_{h_2,\overbar{h}_2}(1, 1) \quantumField{O}_{h_3, \overbar{h}_3}(\xi', \overbar{\xi}')}}{(z_2 - z_1)^{h_1 + h_2 + h_3} (\overbar{z}_2 - \overbar{z}_1)^{\overbar{h}_1 + \overbar{h}_2 + \overbar{h}_3}}.
    \end{multline}
    Collecting terms this becomes
    \begin{multline}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_2) \quantumField{O}_{h_2,\overbar{h}_2}(z_2, \overbar{z}_2) \quantumField{O}_{h_3,\overbar{h}_3}(z_3, \overbar{z}_3)} =\\ 
        \frac{(\eta - 1)^{-h_1 + h_2 + h_3} (\overbar{\eta} - 1)^{-\overbar{h}_1 + \overbar{h}_2 + \overbar{h}_3} \eta^{h_1 - h_2} \overbar{\eta}^{h_1 - h_2} (\xi')^{h_3}(\overbar{\xi}')^{\overbar{h}_3}}{(\eta - \xi)^{2h_3}(\overbar{\eta} - \overbar{\xi})^{2\overbar{h}_3}}\\
        \times \frac{\correlator{\quantumField{O}_{h_1,\overbar{h}_1}(0, 0) \quantumField{O}_{h_2,\overbar{h}_2}(1, 1) \quantumField{O}_{h_3, \overbar{h}_3}(\xi', \overbar{\xi}')}}{(z_2 - z_1)^{h_1 + h_2 + h_3} (\overbar{z}_2 - \overbar{z}_1)^{\overbar{h}_1 + \overbar{h}_2 + \overbar{h}_3}}.
    \end{multline}
    We can now substitute in the expression for \(\xi'\) and consider the limit \(\eta \to \xi\).
    Doing so, and demanding that this law holds, we have
    \begin{multline}
        \correlator{\quantumField{O}_{h_1,\overbar{h}_1}(z_1, \overbar{z}_2) \quantumField{O}_{h_2,\overbar{h}_2}(z_2, \overbar{z}_2) \quantumField{O}_{h_3,\overbar{h}_3}(z_3, \overbar{z}_3)} =\\
        % TODO compute this taking \eta -> \xi = (z_2 - z_3)/(z_2 - z_1)
    \end{multline}
    
    
%	 Appdendix
	\appendixpage
	\begin{appendices}
    	\chapter{Differential Geometry}
        \section{Tangent Space}
        Let \(\manifold\) be a \(d\)-dimensional manifold.
        The tangent space at \(p \in M\) is a \(d\)-dimensional vector space \(T_p\manifold\).
        One definition of this is the vector space of derivations at \(p\), where a derivation is a linear map \(D \colon C^{\infty}(\manifold) \to \reals\) satisfying
        \begin{equation}
            D(f g) = D(f) g(x) + f(x) D(g).
        \end{equation}
        Clearly derivatives are derivations, this is just the product rule, and in fact given a coordinate chart \((U, x)\) with \(p \in U\) and \(x = (x^1, \dotsc, x^d)\) we have a basis for \(T_p\manifold\) given by
        \begin{equation}
            \left\{ \diffp{}{x^1}\bigg|_p, \dotsc, \diffp{}{x^d}\bigg|_p \right\}.
        \end{equation}
        
        Once we have tangent spaces it makes sense to consider the collection of all tangent vectors at any point \(p \in \manifold\).
        This gives us the tangent bundle
        \begin{equation}
            TM = \bigsqcup_{p \in \manifold} T_pM.
        \end{equation}
        This is a bundle since we have the natural projection \(\pi \colon TM \twoheadrightarrow \manifold\) sending a tangent vector \(v \in T_pM\) to the point \(p \in M\).
        
        \section{Pushforward and Pullback}
        Let \(\varphi \colon \manifold \to \symcal{N}\) be a smooth map between manifolds.
        The \defineindex{pushforward}, also called the \defineindex{differential}, of \(\varphi\) at \(p \in \manifold\) is the linear map
        \begin{equation}
            \dl{\varphi_p} \colon T_p\manifold \to T_{\varphi(p)}\symcal{N}
        \end{equation}
        defined to act on a derivation, \(X \colon C^{\infty}(\manifold) \to \reals\), by sending it to the derivation \(\dl{\varphi_p}(X) \colon C^{\infty}(\symcal{N}) \to \reals\) defined to act on \(f \in C^{\infty}(\symcal{N})\) by
        \begin{equation}
            \dl{\varphi_p}(X)(f) = X(f \circ \varphi).
        \end{equation}
        That is, \(\dl{\varphi_p}\) is nothing but precomposition with \(\varphi\) followed by evaluation.
        
        Fix charts \((U, x)\) and \(V, y\) for neighbourhoods of \(p \in \manifold\) and \(\varphi(p) \in \symcal{N}\). s
        Then \(T_p\manifold\) and \(T_{\varphi(p)}\symcal{N}\) have bases \(\{\difsp{}{x^i}|_p\}\) and \(\{\difsp{}{y^i}|_{\varphi(p)}\}\).
        In these bases \(\dl{\varphi_p}\) may be expressed as a matrix
        \begin{equation}
            \tensor{(\dl{\varphi_p})}{^i_j} = \diffp{\varphi^i}{x^j}
        \end{equation}
        where \(\varphi^j\) is such that \(y^j = \varphi(x^j)\).
        
        The \defineindex{pullback} of \(\varphi\) is the map \(\varphi^* \colon C^{\infty}(\symcal{N}) \to C^{\infty}(\manifold)\) defined by \((\varphi^*f)(x) = f(\varphi(x))\).
        That is, \(\varphi^*\) is precomposition with \(\varphi\).
        We can also define the pullback of a \(k\)-form, \(\omega\), as
        \begin{equation}
            (\varphi^*\omega)_p(X_1, \dotsc, X_k) = \omega_{\varphi(p)}(\dl{\varphi_p}(X_1), \dotsc, \dl{\varphi_p}(X_k)).
        \end{equation}
        This will be particularly important for a 2-form, \(g\), where we have
        \begin{equation}
            (\varphi^*g)_p(X_1, X_2) = g_{\varphi(p)}(\dl{\varphi_p}(X_1), \dl{\varphi_p}(X_2)).
        \end{equation}
        
        
        \section{Riemannian Manifolds}
        A \defineindex{Riemannian manifold}, \((\manifold, g)\), is a manifold, \(\manifold\), equipped with a \defineindex{Riemannian metric}, \(g\), which assigns to each tangent space, \(T_p\manifold\), a positive-definite inner product
        \begin{equation}
            g_p \colon T_p\manifold \times T_p\manifold \to \reals,
        \end{equation}
        such that the component functions, \(g_{ij} \colon U \to \reals\), are smooth on any chart \((U, x)\).
        These components are defined for a basis \(\{e_i\}\) of \(T_p\manifold\) by
        \begin{equation}
            g_{ij} = g_p(e_i, e_j).
        \end{equation}
        These are such that
        \begin{equation}
            g = \sum_{i,j} g_{ij} \dd{x^i} \dd{x^j}
        \end{equation}
        where \(\dl{x^i}\) is the dual basis to \(\{e_i\}\), defined by \(\dl{x^i}(e_j) = \tensor{\delta}{^{i}_j}\).
    \end{appendices}

%	\backmatter
%	\renewcommand{\glossaryname}{Acronyms}
%	\printglossary[acronym]
%	\printindex
\end{document}
